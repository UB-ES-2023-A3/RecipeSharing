(function(){"use strict";var e={9175:function(e,s,t){var a=t(9963),r=t(2201),i=t(6252);const o=e=>((0,i.dD)("data-v-5680bb96"),e=e(),(0,i.Cn)(),e),n={id:"homeMainContainer"},l={id:"homeFilterContainer"},d={key:0,id:"homeSectionContainer"},c=o((()=>(0,i._)("div",{id:"homeSectionTitleContainer"},[(0,i._)("h1",null," Searched Recipes ")],-1))),u={id:"homeSectionCarrouselContainer"},p={id:"homeSectionFilterError"},g={key:0,class:"homeSectionFilterError"},h=o((()=>(0,i._)("div",{id:"homeSectionSeparatorContainer"},[(0,i._)("hr")],-1))),m={id:"homeSectionContainer"},w=o((()=>(0,i._)("div",{id:"homeSectionTitleContainer"},[(0,i._)("h1",null," Most Recent Recipes ")],-1))),v={id:"homeSectionCarrouselContainer"},f=o((()=>(0,i._)("div",{id:"homeSectionSeparatorContainer"},[(0,i._)("hr")],-1))),C={id:"homeSectionContainer"},y=o((()=>(0,i._)("div",{id:"homeSectionTitleContainer"},[(0,i._)("h1",null," Most Liked Recipes ")],-1))),k={id:"homeSectionCarrouselContainer"},S=o((()=>(0,i._)("div",{id:"homeSectionSeparatorContainer"},[(0,i._)("hr")],-1))),_=o((()=>(0,i._)("i",{class:"fas fa-plus"},null,-1))),b=o((()=>(0,i._)("span",{class:"text"},"Upload new recipe",-1))),M=[_,b];function T(e,s,t,a,r,o){const _=(0,i.up)("HomeFilterDropdown"),b=(0,i.up)("AppCardCarousel");return(0,i.wg)(),(0,i.iD)("div",n,[(0,i._)("div",l,[(0,i.Wm)(_,{options:r.preparationTimeOptions,modelValue:r.selectedPreparationTime,"onUpdate:modelValue":s[0]||(s[0]=e=>r.selectedPreparationTime=e),label:"Preparation Time Filter",groupTitle:"Selected Preparation Time","onUpdate:selectedValue":o.handlePrepTimeUpdate,choose:!1},null,8,["options","modelValue","onUpdate:selectedValue"])]),r.showRecipesFilter?((0,i.wg)(),(0,i.iD)("div",d,[c,(0,i._)("div",u,[r.recipesByFilter.length>0?((0,i.wg)(),(0,i.j4)(b,{key:0,type:r.prepTime,recipes:this.recipesByFilter,visibleRecipes:8,logged:this.logged,username:this.username},null,8,["type","recipes","logged","username"])):(0,i.kq)("",!0)]),(0,i._)("div",p,[0===this.recipesByFilter.length?((0,i.wg)(),(0,i.iD)("p",g,"No recipes found by that filter.")):(0,i.kq)("",!0)]),h])):(0,i.kq)("",!0),(0,i._)("div",m,[w,(0,i._)("div",v,[r.recipesByDate.length>0?((0,i.wg)(),(0,i.j4)(b,{key:0,type:r.recent,recipes:this.recipesByDate,visibleRecipes:8,logged:this.logged,username:this.username},null,8,["type","recipes","logged","username"])):(0,i.kq)("",!0)]),f]),(0,i._)("div",C,[y,(0,i._)("div",k,[r.recipesByRate.length>0?((0,i.wg)(),(0,i.j4)(b,{key:0,type:r.rate,recipes:this.recipesByRate,visibleRecipes:8,logged:this.logged,username:this.username},null,8,["type","recipes","logged","username"])):(0,i.kq)("",!0)]),S]),this.logged?((0,i.wg)(),(0,i.iD)("div",{key:1,class:"homeFloatingButton",onClick:s[1]||(s[1]=(...e)=>o.redirectToRecipePage&&o.redirectToRecipePage(...e))},M)):(0,i.kq)("",!0)])}t(7658);var P=t(9374),R=t(3577);const D={class:"card-carousel"},A={class:"carousel-container"};function V(e,s,t,a,r,o){const n=(0,i.up)("AppCardRecipe");return(0,i.wg)(),(0,i.iD)("div",D,[(0,i._)("div",A,[(0,i._)("button",{onClick:s[0]||(s[0]=e=>o.moveCarousel(-1)),class:(0,R.C_)(["arrow-button left-arrow",{"disabled-button":o.isAtBeginning}])},"◄ ",2),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.displayedRecipes,((e,s)=>((0,i.wg)(),(0,i.j4)(n,{key:s,type:this.type,recipeName:this.recipeName,recipe:e,logged:this.logged,username:t.username},null,8,["type","recipeName","recipe","logged","username"])))),128)),(0,i._)("button",{onClick:s[1]||(s[1]=e=>o.moveCarousel(1)),class:(0,R.C_)(["arrow-button right-arrow",{"disabled-button":o.isAtEnd}])}," ► ",2)])])}const O=e=>((0,i.dD)("data-v-ce667f86"),e=e(),(0,i.Cn)(),e),B={class:"recipe-card"},F={key:0},I={key:0},x={key:1},U={key:2},E={key:0,class:"popup"},N={class:"popup-content"},L={class:"scrollable-content"},W={class:"recipe-header"},z={class:"recipe-card-title"},H=O((()=>(0,i._)("strong",null,"Creation Date:",-1))),Z={class:"recipe-card-rating"},q={class:"recipe-card-rating-title"},K=O((()=>(0,i._)("h3",null,"Current Rating",-1))),$={class:"rating-stars"},j={key:0},G=O((()=>(0,i._)("h3",null,"Add your rating:",-1))),Y=[G],J=["onClick","onMouseover"],Q={class:"section"},X={class:"recipe-card-section"},ee=O((()=>(0,i._)("h3",null,"Ingredients",-1))),se={class:"section"},te={class:"recipe-card-section"},ae=O((()=>(0,i._)("h3",null,"Instructions",-1))),re={class:"section"},ie={class:"recipe-card-section"},oe=O((()=>(0,i._)("h3",null,"Allergens",-1))),ne={class:"section"},le={class:"recipe-card-section"},de=O((()=>(0,i._)("h3",null,"Type",-1))),ce={class:"section"},ue={class:"recipe-card-section"},pe=O((()=>(0,i._)("h3",null,"Preparation time",-1))),ge={class:"section"},he={class:"recipe-card-section"},me=O((()=>(0,i._)("h3",null,"Servings",-1))),we={key:1},ve={key:0},fe={key:1},Ce={key:2};function ye(e,s,t,a,r,o){return(0,i.wg)(),(0,i.iD)("div",B,[t.logged?((0,i.wg)(),(0,i.iD)("div",F,[(0,i._)("div",{onClick:s[0]||(s[0]=(...e)=>o.togglePopup&&o.togglePopup(...e)),class:"recipe-title"},["rate"===t.type?((0,i.wg)(),(0,i.iD)("span",I,[(0,i._)("h2",null,(0,R.zw)(this.recipe.title),1),(0,i._)("h3",null,(0,R.zw)("Rating: "+this.CurrRating),1)])):(0,i.kq)("",!0),"recent"===t.type?((0,i.wg)(),(0,i.iD)("span",x,[(0,i._)("h2",null,(0,R.zw)(this.recipe.title),1),(0,i._)("h3",null,(0,R.zw)(this.recipe.creation_date),1)])):(0,i.kq)("",!0),"preparation_time"===t.type?((0,i.wg)(),(0,i.iD)("span",U,[(0,i._)("h2",null,(0,R.zw)(this.recipe.title),1),(0,i._)("h3",null,(0,R.zw)(this.recipe.preparation_time),1)])):(0,i.kq)("",!0)]),r.showPopup?((0,i.wg)(),(0,i.iD)("div",E,[(0,i._)("div",N,[(0,i._)("div",L,[(0,i._)("div",W,[(0,i._)("div",z,[(0,i._)("h2",null,(0,R.zw)("Title: "+this.recipe.title),1),(0,i._)("p",null,[H,(0,i.Uk)(" "+(0,R.zw)(this.recipe.creation_date),1)])]),(0,i._)("div",Z,[(0,i._)("div",q,[K,(0,i._)("p",null,(0,R.zw)(this.CurrRating+" from "+this.NumRatings+" ratings"),1)]),(0,i._)("div",$,[t.username!==this.recipe.username_id?((0,i.wg)(),(0,i.iD)("span",j,Y)):(0,i.kq)("",!0),((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)([1,2,3,4,5],(e=>(0,i._)("span",{key:e,onClick:s=>o.setRating(e),onMouseover:s=>o.hoverStars(e),onMouseout:s[1]||(s[1]=(...e)=>o.resetStars&&o.resetStars(...e)),class:(0,R.C_)({filled:e<=r.rating,hovered:e<=r.hoveredStar,"hidden-stars":t.username===this.recipe.username_id})}," ★ ",42,J))),64))])])]),(0,i._)("div",Q,[(0,i._)("div",X,[ee,(0,i._)("ul",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(this.parseText(this.recipe.ingredients),((e,s)=>((0,i.wg)(),(0,i.iD)("li",{key:s},(0,R.zw)(e),1)))),128))])])]),(0,i._)("div",se,[(0,i._)("div",te,[ae,(0,i._)("ol",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(this.recipe.instructions.split("\n"),((e,s)=>((0,i.wg)(),(0,i.iD)("li",{key:s},(0,R.zw)(e),1)))),128))])])]),(0,i._)("div",re,[(0,i._)("div",ie,[oe,(0,i._)("ul",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(this.parseText(this.recipe.allergens),((e,s)=>((0,i.wg)(),(0,i.iD)("li",{key:s},(0,R.zw)(e),1)))),128))])])]),(0,i._)("div",ne,[(0,i._)("div",le,[de,(0,i.Uk)(" "+(0,R.zw)(this.recipe.recipe_type),1)])]),(0,i._)("div",ce,[(0,i._)("div",ue,[pe,(0,i.Uk)(" "+(0,R.zw)(this.recipe.preparation_time),1)])]),(0,i._)("div",ge,[(0,i._)("div",he,[me,(0,i.Uk)(" "+(0,R.zw)(this.recipe.servings),1)])]),(0,i._)("button",{class:"submit-button",onClick:s[2]||(s[2]=(...e)=>o.togglePopup&&o.togglePopup(...e))},"Close")])])])):(0,i.kq)("",!0)])):((0,i.wg)(),(0,i.iD)("div",we,[(0,i._)("div",{onClick:s[3]||(s[3]=(...e)=>o.goToLogin&&o.goToLogin(...e)),class:"recipe-title"},["rate"===t.type?((0,i.wg)(),(0,i.iD)("span",ve,[(0,i._)("h2",null,(0,R.zw)(this.recipe.title),1),(0,i._)("h3",null,(0,R.zw)("Rating: "+this.CurrRating),1)])):(0,i.kq)("",!0),"recent"===t.type?((0,i.wg)(),(0,i.iD)("span",fe,[(0,i._)("h2",null,(0,R.zw)(this.recipe.title),1),(0,i._)("h3",null,(0,R.zw)(this.recipe.creation_date),1)])):(0,i.kq)("",!0),"preparation_time"===t.type?((0,i.wg)(),(0,i.iD)("span",Ce,[(0,i._)("h2",null,(0,R.zw)(this.recipe.title),1),(0,i._)("h3",null,(0,R.zw)(this.recipe.preparation_time),1)])):(0,i.kq)("",!0)])]))])}var ke={props:{recipe:Object,username:String,logged:Boolean,type:String,recipeName:String},data(){return{showPopup:!1,rating:0,NumRatings:this.recipe.rating_amount,CurrRating:this.recipe.rating_average,recipe_id:this.recipe.id,hoveredStar:0}},methods:{togglePopup(){this.showPopup=!this.showPopup},goToLogin(){alert("Log in to see the recipe!"),this.$router.push("/login")},parseText(e){const s=e.replace(/\[|\]/g,""),t=s.replace(/'/g,""),a=t.split(",");return a},setRating(e){this.rating=e,this.addRating(),this.getRating()},hoverStars(e){this.hoveredStar=e},resetStars(){this.hoveredStar=0},getRating(){P.Z.get(`recipes/getratings/${this.recipe_id}/`).then((e=>{if(200===e.status){const s=e.data;this.NumRatings=s.rating_amount,this.CurrRating=s.rating_average,console.log(e.data.recipes)}})).catch((e=>{console.error("Error al obtener los ratings:",e)}))},addRating(){P.Z.post("recipes/postratings/",{user_id:this.username,recipe_id:this.recipe.id,rating:this.rating}).then((e=>{200===e.status&&(console.log("Rating added"),alert("Rating added."),this.getRating())})).catch((e=>{alert(e.response)}))}}},Se=t(3744);const _e=(0,Se.Z)(ke,[["render",ye],["__scopeId","data-v-ce667f86"]]);var be=_e,Me={components:{AppCardRecipe:be},props:{recipes:Array,visibleRecipes:Number,username:String,logged:Boolean,type:String,recipeName:String},data(){return{currentCardIndex:0}},computed:{displayedRecipes(){const e=this.currentCardIndex,s=e+this.visibleRecipes;return this.recipes.slice(e,s)},isAtBeginning(){return 0===this.currentCardIndex},isAtEnd(){return this.currentCardIndex+this.visibleRecipes>=this.recipes.length}},methods:{moveCarousel(e){const s=this.currentCardIndex+e;s>=0&&s<=this.recipes.length-this.visibleRecipes&&(this.currentCardIndex=s)}}};const Te=(0,Se.Z)(Me,[["render",V],["__scopeId","data-v-74af247c"]]);var Pe=Te,Re=JSON.parse('[{"groupName":"Quick Meals","options":[15,30,45]},{"groupName":"Regular Meals","options":[60,90]},{"groupName":"Special Occasions","options":[120,180]}]');const De=e=>((0,i.dD)("data-v-2551b5ec"),e=e(),(0,i.Cn)(),e),Ae={class:"filterContainer"},Ve={class:"titleFilterContainer"},Oe={class:"dropdownContainer"},Be=["label"],Fe=["value"],Ie={class:"selected-values"},xe={class:"selected-ingredients-title"},Ue=["onClick"],Ee=De((()=>(0,i._)("span",{class:"remove-button"},"✖",-1)));function Ne(e,s,t,r,o,n){return(0,i.wg)(),(0,i.iD)("div",Ae,[(0,i._)("div",Ve,[(0,i._)("h2",null,(0,R.zw)(t.label),1)]),(0,i._)("div",Oe,[(0,i.wy)((0,i._)("select",{onChange:s[0]||(s[0]=(...e)=>n.addSelectedOption&&n.addSelectedOption(...e)),class:"full-width-dropdown","onUpdate:modelValue":s[1]||(s[1]=e=>o.localSelectedValue=e)},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.options,(e=>((0,i.wg)(),(0,i.iD)("optgroup",{label:e.groupName,key:e.groupName},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.options,(e=>((0,i.wg)(),(0,i.iD)("option",{value:e,key:e},(0,R.zw)(e),9,Fe)))),128))],8,Be)))),128))],544),[[a.bM,o.localSelectedValue]])]),(0,i._)("div",Ie,[(0,i._)("h2",xe,(0,R.zw)(t.groupTitle),1),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.selectedOptions,((e,s)=>((0,i.wg)(),(0,i.iD)("button",{class:"selected-value",key:s,onClick:e=>n.removeSelectedOption(s)},[(0,i.Uk)((0,R.zw)(e)+" ",1),Ee],8,Ue)))),128))])])}var Le={props:{options:Array,selectedValue:Array,label:String,groupTitle:String,choose:Boolean},data(){return{localSelectedValue:this.selectedValue,selectedOptions:[]}},methods:{addSelectedOption(){const e=this.localSelectedValue;0==this.choose&&(this.selectedOptions=[]),e&&!this.selectedOptions.includes(e)&&(this.selectedOptions.push(e),this.$emit("update:selectedValue",this.selectedOptions))},removeSelectedOption(e){this.selectedOptions.splice(e,1)}}};const We=(0,Se.Z)(Le,[["render",Ne],["__scopeId","data-v-2551b5ec"]]);var ze=We,He={name:"HomePage.vue",components:{AppCardCarousel:Pe,HomeFilterDropdown:ze},props:{logged:Boolean,username:String,email:String,password:String},data(){return{recipesByDate:[],recipesByRate:[],recipesByFilter:[],rate:"rate",recent:"recent",prepTime:"preparation_time",showRecipesFilter:!1,selectedPreparationTime:"",preparationTimeOptions:Re}},methods:{redirectToRecipePage(){this.$router.push("/addRecipe")},handlePrepTimeUpdate(e){this.preparationTime=parseInt(e),this.getRecipesByPrepTime()},getRecipesByRate(){P.Z.get("/").then((e=>{if(200===e.status){const s=e.data;console.log("Data is:",s)}})).catch((e=>{console.error("Error al obtener las recetas:",e)})),P.Z.get("recipe/rate/").then((e=>{if(200===e.status){const s=e.data.recipes;this.recipesByRate=s,console.log(e.data.recipes)}})).catch((e=>{console.error("Error al obtener las recetas:",e)}))},getRecipesByRecent(){P.Z.get("/").then((e=>{if(200===e.status){const s=e.data;console.log("Data is:",s)}})).catch((e=>{console.error("Error al obtener las recetas:",e)})),P.Z.get("recipe/recent/").then((e=>{if(200===e.status){const s=e.data.recipes;this.recipesByDate=s,console.log(e.data.recipes)}})).catch((e=>{console.error("Error al obtener las recetas:",e)}))},getRecipesByPrepTime(){P.Z.get("/").then((e=>{if(200===e.status){const s=e.data;console.log("Data is:",s)}})).catch((e=>{console.error("Error al obtener las recetas:",e)})),P.Z.get(`recipe/filter/preparation_time/${this.preparationTime}`).then((e=>{if(200===e.status){const s=e.data.recipes;this.recipesByFilter=s,this.showRecipesFilter=!0,console.log(e.data.recipes)}})).catch((e=>{console.error("Error al obtener las recetas:",e)}))}},created(){this.getRecipesByRate(),this.getRecipesByRecent()}};const Ze=(0,Se.Z)(He,[["render",T],["__scopeId","data-v-5680bb96"]]);var qe=Ze;const Ke=e=>((0,i.dD)("data-v-1761a2ae"),e=e(),(0,i.Cn)(),e),$e={id:"registerMainContainer"},je={id:"registerCenteredContainer"},Ge={id:"register"},Ye=Ke((()=>(0,i._)("label",{for:"username"},"Username:",-1))),Je=Ke((()=>(0,i._)("div",{class:"note"},[(0,i._)("p",null,"The username must be between 8 and 16 characters.")],-1))),Qe={key:0,class:"error"},Xe=Ke((()=>(0,i._)("label",{for:"email"},"Email:",-1))),es=Ke((()=>(0,i._)("div",{class:"note"},[(0,i._)("p",null,"Only the following domains are valid: example.com, yourdomain.com, gmail.com, hotmail.com")],-1))),ss={key:1,class:"error"},ts=Ke((()=>(0,i._)("label",{for:"password"},"Password:",-1))),as=Ke((()=>(0,i._)("div",{class:"note"},[(0,i._)("p",null,"The password must be at least 8 characters long, contain one uppercase letter, one lowercase letter, one number, and one symbol.")],-1))),rs={key:2,class:"error"},is=Ke((()=>(0,i._)("label",{for:"confirmPassword"},"Confirm Password:",-1))),os=Ke((()=>(0,i._)("br",null,null,-1))),ns={class:"password-strength"},ls={class:"password-strength-meter"},ds=Ke((()=>(0,i._)("button",{type:"submit",class:"submit-button"},"Register",-1))),cs={id:"registerRight"},us=Ke((()=>(0,i._)("div",{class:"registerTitle"}," Register ",-1))),ps=Ke((()=>(0,i._)("hr",null,null,-1))),gs={class:"registerRightForm"},hs=Ke((()=>(0,i._)("hr",null,null,-1)));function ms(e,s,t,r,o,n){const l=(0,i.up)("AppTextField"),d=(0,i.up)("AppTextFieldPassword"),c=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",$e,[(0,i._)("div",je,[(0,i._)("div",Ge,[(0,i._)("form",{onSubmit:s[4]||(s[4]=(0,a.iM)(((...e)=>n.register&&n.register(...e)),["prevent"])),class:"registerForm"},[Ye,(0,i.Wm)(l,{defaultMessage:o.defaultMessageUsername,"onUpdate:textValue":s[0]||(s[0]=e=>o.username=e),onInput:n.checkUsername},null,8,["defaultMessage","onInput"]),Je,o.usernameError?((0,i.wg)(),(0,i.iD)("p",Qe,"This username is not valid")):(0,i.kq)("",!0),Xe,(0,i.Wm)(l,{defaultMessage:o.defaultMessageEmail,"onUpdate:textValue":s[1]||(s[1]=e=>o.email=e),onInput:n.checkEmail},null,8,["defaultMessage","onInput"]),es,o.emailError?((0,i.wg)(),(0,i.iD)("p",ss,"This email extension is not valid")):(0,i.kq)("",!0),ts,(0,i.Wm)(d,{defaultMessage:o.defaultMessagePassword,"onUpdate:textValue":s[2]||(s[2]=e=>o.password=e),onInput:n.checkPassword},null,8,["defaultMessage","onInput"]),as,o.passwordError?((0,i.wg)(),(0,i.iD)("p",rs,"This password is not valid")):(0,i.kq)("",!0),is,(0,i.Wm)(d,{defaultMessage:o.defaultMessagePasswordCheck,"onUpdate:textValue":s[3]||(s[3]=e=>o.confirmPassword=e)},null,8,["defaultMessage"]),os,(0,i._)("div",ns,[(0,i.Uk)(" Password Strength: "),(0,i._)("div",ls,[(0,i._)("div",{class:"password-strength-bar",style:(0,R.j5)({width:o.passwordStrength+"%"})},null,4)])]),ds],32)]),(0,i._)("div",cs,[us,ps,(0,i._)("div",gs,[(0,i.Wm)(c,{to:"/login"},{default:(0,i.w5)((()=>[(0,i.Uk)("Already have an account? Log in")])),_:1}),hs,(0,i.Wm)(c,{to:"/"},{default:(0,i.w5)((()=>[(0,i.Uk)("« Go back to the main page")])),_:1})])])])])}function ws(e,s,t,r,o,n){return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>o.message=e),onBlur:s[1]||(s[1]=(...e)=>n.saveMessage&&n.saveMessage(...e)),onKeyup:s[2]||(s[2]=(0,a.D2)(((...e)=>n.saveMessage&&n.saveMessage(...e)),["enter"])),onFocus:s[3]||(s[3]=(...e)=>n.clearDefaultMessage&&n.clearDefaultMessage(...e)),ref:"messageInput",style:(0,R.j5)(n.inputStyle),onInput:s[4]||(s[4]=(...e)=>n.updateTextFieldValue&&n.updateTextFieldValue(...e))},null,36),[[a.nr,o.message]])])}var vs={name:"AppTextField.vue",props:{defaultMessage:String},data(){return{message:this.defaultMessage,isSaved:!1,clearedOnce:!1}},computed:{inputStyle(){return{backgroundColor:this.isSaved?"#eea94d":"#FCE4A4",color:this.isSaved?"white":"black",padding:"10px",border:"1px solid #ccc",borderRadius:"5px",width:"100%",minWidth:"300px",display:"block",marginBottom:"10px"}}},methods:{saveMessage(){this.isSaved=!0,this.$refs.messageInput.blur()},clearDefaultMessage(){this.clearedOnce||(this.message="",this.clearedOnce=!0)},updateTextFieldValue(){this.$emit("update:textValue",this.message)}}};const fs=(0,Se.Z)(vs,[["render",ws]]);var Cs=fs;const ys={class:"text-field-container"},ks=["type"];function Ss(e,s,t,r,o,n){return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("div",ys,[(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>o.message=e),onBlur:s[1]||(s[1]=(...e)=>n.saveMessage&&n.saveMessage(...e)),onFocus:s[2]||(s[2]=(...e)=>n.clearDefaultMessage&&n.clearDefaultMessage(...e)),ref:"messageInput",onInput:s[3]||(s[3]=(...e)=>n.updateTextFieldValue&&n.updateTextFieldValue(...e)),style:(0,R.j5)(n.inputStyle),type:o.isPasswordVisible?"text":"password",onKeydown:s[4]||(s[4]=(...e)=>n.handleEnterKey&&n.handleEnterKey(...e))},null,44,ks),[[a.YZ,o.message]])]),(0,i._)("button",{onClick:s[5]||(s[5]=(0,a.iM)(((...e)=>n.togglePasswordVisibility&&n.togglePasswordVisibility(...e)),["prevent"])),class:(0,R.C_)({"password-toggle-button-visible":o.isPasswordVisible,"password-toggle-button-hidden":!o.isPasswordVisible})},[(0,i._)("i",{class:(0,R.C_)(o.isPasswordVisible?"far fa-eye":"far fa-eye-slash")},null,2)],2)])}var _s={name:"AppTextFieldPassword.vue",props:{defaultMessage:String},data(){return{message:this.defaultMessage,isSaved:!1,isPasswordVisible:!1,clearedOnce:!1}},computed:{inputStyle(){return{backgroundColor:this.isSaved?"#eea94d":"#FCE4A4",color:this.isSaved?"white":"black",padding:"10px",border:"1px solid #ccc",borderRadius:"5px",width:"100%",minWidth:"300px",display:"block"}}},methods:{saveMessage(){this.isSaved=!0,this.$refs.messageInput.blur()},clearDefaultMessage(){this.clearedOnce||(this.clearedOnce=!0,this.message="")},togglePasswordVisibility(){this.isPasswordVisible=!this.isPasswordVisible},updateTextFieldValue(){this.$emit("update:textValue",this.message)},handleEnterKey(e){"Enter"===e.key&&e.preventDefault()}}};const bs=(0,Se.Z)(_s,[["render",Ss]]);var Ms=bs,Ts={name:"RegisterPage",components:{AppTextField:Cs,AppTextFieldPassword:Ms},data(){return{username:"",usernameError:!1,email:"",emailError:!1,password:"",passwordError:!1,confirmPassword:"",passwordStrength:0,defaultMessageUsername:"Introduce your username",defaultMessageEmail:"Introduce your email",defaultMessagePassword:"Introduce your password",defaultMessagePasswordCheck:"Introduce your password again"}},methods:{checkUsername(){this.usernameError=this.username.length<8||this.username.length>16},checkEmail(){const e=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;if(e.test(this.email)){const e=["example.com","yourdomain.com","gmail.com","hotmail.com"],s=this.email.split("@"),t=s[1];this.emailError=!e.includes(t)}else this.emailError=!0},checkPassword(){const e=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[\W_]).{8,}$/;this.passwordError=!e.test(this.password);let s=0;this.password.length>=8&&s++,/[a-z]/.test(this.password)&&/[A-Z]/.test(this.password)&&s++,/\d/.test(this.password)&&s++,/\W|_/.test(this.password)&&s++,this.passwordStrength=s/4*100},clearForm(){this.username="",this.email="",this.password="",this.confirmPassword=""},async register(){if(0!==this.username.length&&0!==this.email.length&&0!==this.password.length&&0!==this.confirmPassword.length)if(this.password===this.confirmPassword)try{let e=await P.Z.post("/register/",{username:this.username,email:this.email,password:this.password},{headers:{"Content-Type":"application/json"}});200===e.status&&(console.log("Registration successful"),alert("Registration successful"),this.$router.push("/"))}catch(e){e.response?400===e.response.status?alert(e.response.data.error):500===e.response.status?alert("An error occurred while registering."):alert("Unexpected error"):alert("An error occurred while registering.")}else alert("Passwords do not match");else alert("Complete the form")}}};const Ps=(0,Se.Z)(Ts,[["render",ms],["__scopeId","data-v-1761a2ae"]]);var Rs=Ps;const Ds=e=>((0,i.dD)("data-v-684d3cb9"),e=e(),(0,i.Cn)(),e),As={id:"loginMainContainer"},Vs={id:"loginCenteredContainer"},Os={id:"login"},Bs=Ds((()=>(0,i._)("label",{for:"usernameOrEmail"},"Username or Email:",-1))),Fs=Ds((()=>(0,i._)("label",{for:"password"},"Password:",-1))),Is=Ds((()=>(0,i._)("button",{type:"submit"},"Login",-1))),xs={id:"loginRight"},Us=Ds((()=>(0,i._)("div",{class:"loginTitle"}," Login ",-1))),Es=Ds((()=>(0,i._)("hr",null,null,-1))),Ns={class:"loginRightForm"},Ls=Ds((()=>(0,i._)("hr",null,null,-1)));function Ws(e,s,t,r,o,n){const l=(0,i.up)("AppTextField"),d=(0,i.up)("AppTextFieldPassword"),c=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",As,[(0,i._)("div",Vs,[(0,i._)("div",Os,[(0,i._)("form",{onSubmit:s[2]||(s[2]=(0,a.iM)(((...e)=>n.login&&n.login(...e)),["prevent"])),id:"loginForm"},[Bs,(0,i.Wm)(l,{defaultMessage:o.defaultMessageUsernameOrEmail,"onUpdate:textValue":s[0]||(s[0]=e=>o.usernameOrEmail=e)},null,8,["defaultMessage"]),Fs,(0,i.Wm)(d,{defaultMessage:o.defaultMessagePassword,"onUpdate:textValue":s[1]||(s[1]=e=>o.password=e)},null,8,["defaultMessage"]),Is],32)]),(0,i._)("div",xs,[Us,Es,(0,i._)("div",Ns,[(0,i.Wm)(c,{to:"/register"},{default:(0,i.w5)((()=>[(0,i.Uk)("Don't have an account? Register here")])),_:1}),Ls,(0,i.Wm)(c,{to:"/"},{default:(0,i.w5)((()=>[(0,i.Uk)("« Return")])),_:1})])])])])}var zs={name:"LoginPage",components:{AppTextFieldPassword:Ms,AppTextField:Cs},data(){return{usernameOrEmail:"",password:"",username:"",email:"",defaultMessageUsernameOrEmail:"Enter your username or email",defaultMessagePassword:"Enter your password",logged:!1}},methods:{async login(){if(0===this.usernameOrEmail||0===this.password.length)return void alert("Complete the form");let e=this.usernameOrEmail;e.match(/^[A-Za-z0-9._%-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,4}$/)?this.email=e:this.username=e;try{let e=await P.Z.post("/login/",{username:this.username,email:this.email,password:this.password},{headers:{"Content-Type":"application/json"}});200===e.status&&(alert("Logged!"),this.logged=!0,localStorage.setItem("logged",this.logged),localStorage.setItem("username",this.username),this.$emit("login-success",this.logged),this.$emit("username-success",this.username),this.$emit("email-success",this.email),this.$emit("password-success",this.password),this.$router.push("/"))}catch(s){s.response?400===s.response.status?alert(s.response.data.error):500===s.response.status?alert("An error occurred while registering."):alert("Unexpected error"):console.error("An error occurred while logging in.")}}}};const Hs=(0,Se.Z)(zs,[["render",Ws],["__scopeId","data-v-684d3cb9"]]);var Zs=Hs;const qs=e=>((0,i.dD)("data-v-2c0820bd"),e=e(),(0,i.Cn)(),e),Ks={class:"mainContainer",style:{color:"black"}},$s={class:"form-background"},js=qs((()=>(0,i._)("div",{class:"mainTitle",style:{color:"#ff5733"}},[(0,i._)("h1",null,"Add Recipe")],-1))),Gs={class:"form-group"},Ys=qs((()=>(0,i._)("label",{for:"recipeName"},"Name of the recipe:",-1))),Js={class:"form-group"},Qs=qs((()=>(0,i._)("label",{for:"ingredients"},"Ingredients:",-1))),Xs={class:"form-group"},et=qs((()=>(0,i._)("label",{for:"instructions"},"Instructions:",-1))),st={class:"form-group"},tt=qs((()=>(0,i._)("label",{for:"recipeType"},"Type of recipe:",-1))),at={class:"form-group"},rt=qs((()=>(0,i._)("label",{for:"allergens"},"Allergens:",-1))),it={class:"form-group"},ot=qs((()=>(0,i._)("label",{for:"preparationTime"},"Preparation time:",-1))),nt={class:"form-group"},lt=qs((()=>(0,i._)("label",{for:"servings"},"Servings:",-1))),dt={key:0,class:"error-message"},ct=qs((()=>(0,i._)("div",{class:"secondaryContainer",style:{"background-color":"white"}},[(0,i._)("button",{type:"submit",class:"submit-button"},"Add Recipe")],-1)));function ut(e,s,t,r,o,n){const l=(0,i.up)("AppTextField"),d=(0,i.up)("DropdownSelect"),c=(0,i.up)("TextArea");return(0,i.wg)(),(0,i.iD)("div",Ks,[(0,i._)("div",$s,[js,(0,i._)("form",{onSubmit:s[7]||(s[7]=(0,a.iM)(((...e)=>n.addRecipe&&n.addRecipe(...e)),["prevent"])),class:"form"},[(0,i._)("div",Gs,[Ys,(0,i.Wm)(l,{defaultMessage:o.defaultMessageRecipe,modelValue:o.recipeName,"onUpdate:modelValue":s[0]||(s[0]=e=>o.recipeName=e),"onUpdate:textValue":n.handleTextFieldValueUpdate},null,8,["defaultMessage","modelValue","onUpdate:textValue"])]),(0,i._)("div",Js,[Qs,(0,i.Wm)(d,{options:o.ingredientsList,modelValue:o.selectedIngredients,"onUpdate:modelValue":s[1]||(s[1]=e=>o.selectedIngredients=e),label:"an ingredient",groupTitle:"Selected Ingredients","onUpdate:selectedValue":n.handleIngredientsUpdate,choose:!0},null,8,["options","modelValue","onUpdate:selectedValue"])]),(0,i._)("div",Xs,[et,(0,i.Wm)(c,{defaultMessage:o.defaultMessageInstructions,modelValue:o.instructions,"onUpdate:modelValue":s[2]||(s[2]=e=>o.instructions=e),"onUpdate:textValue":n.handleInstructionsUpdate},null,8,["defaultMessage","modelValue","onUpdate:textValue"])]),(0,i._)("div",st,[tt,(0,i.Wm)(d,{options:o.recipeTypes,modelValue:o.selectedRecipeType,"onUpdate:modelValue":s[3]||(s[3]=e=>o.selectedRecipeType=e),label:"Recipe type",groupTitle:"Selected Type","onUpdate:selectedValue":n.handleTypesUpdate,choose:!0},null,8,["options","modelValue","onUpdate:selectedValue"])]),(0,i._)("div",at,[rt,(0,i.Wm)(d,{options:o.allergensList,modelValue:o.selectedAllergens,"onUpdate:modelValue":s[4]||(s[4]=e=>o.selectedAllergens=e),label:"an allergen",groupTitle:"Selected Allergens","onUpdate:selectedValue":n.handleAllergensUpdate,choose:!0},null,8,["options","modelValue","onUpdate:selectedValue"])]),(0,i._)("div",it,[ot,(0,i.Wm)(d,{options:o.preparationTimeOptions,modelValue:o.preparationTime,"onUpdate:modelValue":s[5]||(s[5]=e=>o.preparationTime=e),label:"preparation time",groupTitle:"Selected Preparation Time","onUpdate:selectedValue":n.handleTimeUpdate,choose:!1},null,8,["options","modelValue","onUpdate:selectedValue"])]),(0,i._)("div",nt,[lt,(0,i.wy)((0,i._)("input",{type:"number",id:"servings","onUpdate:modelValue":s[6]||(s[6]=e=>o.servings=e),class:"full-width-dropdown",min:"1",max:"10"},null,512),[[a.nr,o.servings]])]),o.showErrorMessage?((0,i.wg)(),(0,i.iD)("div",dt,(0,R.zw)(o.errorMessage),1)):(0,i.kq)("",!0),ct],32)])])}const pt=e=>((0,i.dD)("data-v-f9ae591e"),e=e(),(0,i.Cn)(),e),gt={class:"container"},ht={value:"",disabled:""},mt=["label"],wt=["value"],vt={class:"selected-values"},ft={class:"selected-ingredients-title"},Ct=["onClick"],yt=pt((()=>(0,i._)("span",{class:"remove-button"},"✖",-1)));function kt(e,s,t,r,o,n){return(0,i.wg)(),(0,i.iD)("div",gt,[(0,i.wy)((0,i._)("select",{onChange:s[0]||(s[0]=(...e)=>n.addSelectedOption&&n.addSelectedOption(...e)),class:"full-width-dropdown","onUpdate:modelValue":s[1]||(s[1]=e=>o.localSelectedValue=e)},[(0,i._)("option",ht,"Select "+(0,R.zw)(t.label),1),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.options,(e=>((0,i.wg)(),(0,i.iD)("optgroup",{label:e.groupName,key:e.groupName},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.options,(e=>((0,i.wg)(),(0,i.iD)("option",{value:e,key:e},(0,R.zw)(e),9,wt)))),128))],8,mt)))),128))],544),[[a.bM,o.localSelectedValue]]),(0,i._)("div",vt,[(0,i._)("h2",ft,(0,R.zw)(t.groupTitle),1),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.selectedOptions,((e,s)=>((0,i.wg)(),(0,i.iD)("button",{class:"selected-value",key:s,onClick:e=>n.removeSelectedOption(s)},[(0,i.Uk)((0,R.zw)(e)+" ",1),yt],8,Ct)))),128))])])}var St={props:{options:Array,selectedValue:Array,label:String,groupTitle:String,choose:Boolean},data(){return{localSelectedValue:this.selectedValue,selectedOptions:[]}},methods:{addSelectedOption(){const e=this.localSelectedValue;0==this.choose&&(this.selectedOptions=[]),e&&!this.selectedOptions.includes(e)&&(this.selectedOptions.push(e),this.$emit("update:selectedValue",this.selectedOptions))},removeSelectedOption(e){this.selectedOptions.splice(e,1)}}};const _t=(0,Se.Z)(St,[["render",kt],["__scopeId","data-v-f9ae591e"]]);var bt=_t;function Mt(e,s,t,r,o,n){return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.wy)((0,i._)("textarea",{"onUpdate:modelValue":s[0]||(s[0]=e=>o.message=e),onBlur:s[1]||(s[1]=(...e)=>n.saveMessage&&n.saveMessage(...e)),onKeyup:s[2]||(s[2]=(0,a.D2)(((...e)=>n.saveMessage&&n.saveMessage(...e)),["enter"])),onFocus:s[3]||(s[3]=(...e)=>n.clearDefaultMessage&&n.clearDefaultMessage(...e)),ref:"messageInput",style:(0,R.j5)(n.inputStyle),onInput:s[4]||(s[4]=(...e)=>n.adjustTextAreaHeight&&n.adjustTextAreaHeight(...e))},null,36),[[a.nr,o.message]])])}var Tt={props:{defaultMessage:String},data(){return{message:this.defaultMessage}},computed:{inputStyle(){return{color:"black",padding:"10px",border:"1px solid #ccc",width:"100%",minWidth:"300px",display:"block",margin:"0 auto",marginTop:"10px",backgroundColor:"#FCE4A4"}}},methods:{saveMessage(){this.$emit("update:textValue",this.message)},clearDefaultMessage(){this.message=""},adjustTextAreaHeight(){const e=this.$refs.messageInput;e.style.height="auto",e.style.height=e.scrollHeight+"px"}}};const Pt=(0,Se.Z)(Tt,[["render",Mt]]);var Rt=Pt,Dt=JSON.parse('[{"groupName":"Fruits","options":["Apple","Banana","Blackberry","Blueberries","Cantaloupe","Cherry","Coconut","Custard Apple","Date","Dried Date","Dried Figs","Figs","Grape","Grapefruit","Gooseberry","Kiwi","Lemon","Loquats","Mango","Nectarine","Orange","Orange Juice","Papaya","Pear","Pineapple","Canned Pineapple","Persimmon","Pomegranate","Plum","Prune","Raisin","Raspberry","Strawberries","Tangerine","Watermelon"]},{"groupName":"Vegetables","options":["Artichokes","Arugula","Asparagus","Beetroot","Bell Pepper","Black Olives","Boiled Potatoes","Brussels Sprouts","Cabbage","Cabbage","Canned Asparagus","Canned Crushed Tomatoes","Carrot","Cauliflower","Celery","Cucumber","Eggplant","Endive","Escarole","Fennel","Frozen Spinach","Garlic","Green Beans","Green Onion","Lettuce","Leeks","Mushrooms and other fungi","Onion","Parsley","Pumpkin","Radishes","Soybean Sprouts","Spinach","Tomato Juice","Tomatoes","Truffle","Turnips","Watercress","Zucchini"]},{"groupName":"Nuts","options":["Almonds","Hazelnuts","Chestnuts","Peanuts","Walnuts","Pine Nuts","Pistachios"]},{"groupName":"Dairy products","options":["Cottage Cheese","Creme Caramel","Vanilla Flan","Dairy Ice Cream","Sweetened Condensed Milk","Unsweetened Condensed Milk","Goat\'s Milk","Sheep\'s Milk","Skimmed Milk","Skimmed Milk Powder","Whole Milk Powder","Whole Milk","Semi-Skimmed Milk","Mousse","Cream","Fat-Free Cottage Cheese","Brie Cheese","Camembert Cheese","Cheddar Cheese","Cream Cheese","Edam Cheese","Emmental Cheese","Spreadable Processed Cheese","Gruyere Cheese","Manchego Cheese","Mozzarella Cheese","Parmesan Cheese","Ricotta Cheese","Roquefort Cheese","Cottage Cheese","Fat-Free Yogurt","Fat-Free Fruit Yogurt","Yogurt Enriched with Cream","Natural Yogurt","Natural Yogurt with Fruit"]},{"groupName":"Meats and Sausages","options":["Bacon (Pancetta)","Boiled Butifarra","Burger","Chorizo","Chicken","Chicken Breast","Chicken Leg","Chicken Liver","Cured Ham","Cured Loin","Deer","Duck","Foie Gras","Frankfurter Sausage","Ham","Kid Goat","Lamb Liver","Lamb Ribs","Leg of Lamb","Mortadella","Partridge","Pheasant","Pig\'s Feet","Pork Chop","Pork Cracklings","Pork Liver","Pork Loin","Quail and Partridge","Rabbit and Hare","Roast Beef","Salami","Salchichón Sausage","Suckling Lamb","Turkey Breast","Turkey Leg","Veal","Veal Brains","Veal Chop","Veal Kidney","Veal Liver","Veal Sirloin","Veal Tongue","Wild Boar","York Ham"]},{"groupName":"Seafood","options":["Anchovies","Anguillas","Clams","Canned Tuna in Vegetable Oil","Canned Tuna in Water","Fresh Tuna","Fresh Cod","Dried Cod","Sea Bream","Mackerel","Squid","Crab","Caviar","Conger Eel","Dorado","Hake","John Dory","Shrimp","Lobster","Prawn","Sole","Sea Bass","Pike","Mussels","Hake","Grouper","Oysters","Silverside","Swordfish","Octopus","Turbot","Salmon","Smoked Salmon","Red Mullet","Canned Sardines in Vegetable Oil","Sardines","Trout"]},{"groupName":"Sweets and sugar","options":["Caramel","Cocoa Powder with Instant Sugar","Candies","Milk Chocolate","Dark Chocolate","Chocolate Hazelnut Spread","Quince Jelly","Water Ice Cream","Jam with Sugar","Jam without Sugar","Honey","Sugar"]},{"groupName":"Cereals","options":["Barley","Breakfast Cereals with Honey","Cereals with Chocolate","Corn Flakes","Cornmeal","White Rice","Whole Rice","Oats","Polenta","Rye","Semen Semolina","Integral Wheat Bread","Refined Wheat Flour","Whole Wheat Flour","Rye Bread","White Wheat Bread","Whole Wheat Bread","White Wheat Sliced Bread","Whole Wheat Sliced Bread","Egg Pasta","Wheat Pasta","Honey","Cassava"]},{"groupName":"Legumes","options":["Chickpeas","Kidney Beans","Lentils"]},{"groupName":"Eggs","options":["Egg White","Egg Yolk","Hard-Boiled Egg","Whole Egg"]},{"groupName":"Baked goods","options":["Apple Cake","Apple Pie","Butter Danish-Style Cookies","Bizcocho (Sponge Cake)","Cheesecake","Chocolate Croissant","Croissant","Croissant, Donut","Chocolate Cookies","Magdalenas","Puff Pastry Dough (Baked)","Savory Crackers"]},{"groupName":"Beverages","options":["Anise","Bitter Vermouth","Brandy","Cacao Powder for Chocolate","Champagne (Demi-Sec)","Champagne (Sweet)","Champagne (Dry)","Almond Milk","Coffee","Cola Drinks","Daiquiri","Gin & Tonic","Gin","Lactose-Free Cocoa Milkshake","Cane Liquor","Pina Colada","Pisco","Sweet Cider","Dry Cider","Pineapple Liqueur","Port Wine","Rum","Scotch Whisky","Sparkling Water","Sweet Sherry","Table Wine","Tea","Vodka","Water","Whiskey"]},{"groupName":"Oils and fats","options":["Butter","Lard","Olive Oil","Sunflower Oil","Vegetable Margarine"]},{"groupName":"Sauces and condiments","options":["Bechamel","Canned Tomato Sauce","Concentrated Broths","Ketchup","Light Mayonnaise","Mayonnaise","Mustard","Soy Sauce","Sofrito","Vinegars"]}]'),At=JSON.parse('[{"groupName":"None Allergens","options":["None"]},{"groupName":"Common Allergens","options":["Cereals containing gluten - ","Crustaceans","Eggs","Fish","Peanuts","Soybeans","Milk","Nuts","Celery","Mustard","Sesame seeds","Sulphur dioxide and sulphites","Lupin","Molluscs"]},{"groupName":"Fruits","options":["Apples","Bananas","Kiwis","Mangos","Peaches","Plums","Grapes","Cherries","Strawberries","Oranges","Lemons","Raspberries","Blackberries","Papayas","Watermelons","Pineapples"]},{"groupName":"Vegetables","options":["Tomatoes","Peppers (e.g., bell peppers, chili peppers)","Potatoes","Carrots","Cucumbers","Celery","Onions","Garlic","Spinach","Lettuce","Zucchini","Broccoli","Cauliflower","Asparagus","Radishes","Eggplants (aubergines)","Peas","Corn","Beets","Sweet potatoes"]},{"groupName":"Meat","options":["Beef","Pork","Chicken","Turkey","Lamb","Duck","Goose","Venison (deer meat)","Rabbit","Bison","Horse meat","Kangaroo","Alligator","Ostrich","Wild boar","Bear meat","Elk","Emu","Turtle","Snake"]},{"groupName":"Dairy Alternatives","options":["Almond milk","Soy milk","Oat milk","Coconut milk","Rice milk","Cashew milk","Hemp milk","Macadamia milk","Hazelnut milk","Pea milk","Flax milk","Quinoa milk","Walnut milk","Sunflower milk","Tiger nut milk","Chia milk","Potato milk","Sesame milk","Banana milk","Spelt milk","Kamut milk","Barley milk","Teff milk","Amaranth milk"]}]'),Vt=JSON.parse('[{"groupName":"North America","options":["United States","Canada","Mexico"]},{"groupName":"South America","options":["Brazil","Argentina","Chile","Peru","Colombia"]},{"groupName":"Europe","options":["France","Italy","Germany","Spain","United Kingdom","Greece"]},{"groupName":"Asia","options":["China","India","Japan","South Korea","Thailand"]},{"groupName":"Africa","options":["Nigeria","South Africa","Egypt","Kenya","Morocco"]},{"groupName":"Oceania","options":["Australia","New Zealand","Fiji","Papua New Guinea"]}]'),Ot={components:{AppTextField:Cs,DropdownSelect:bt,TextArea:Rt},data(){return{username:"",recipeName:"",selectedIngredients:"",instructions:"",selectedRecipeType:"",selectedAllergens:"",preparationTime:"",servings:"",defaultMessageRecipe:"Introduce the name of your recipe",defaultMessageInstructions:"Introduce the instructions",showErrorMessage:!1,errorField:null,errorMessage:"",errorMessages:{recipeName:"Please enter the recipe name.",selectedIngredients:"Please select at least one ingredient.",selectedAllergens:"Please select at least one allergen.",instructions:"Please provide instructions for the recipe.",selectedRecipeType:"Please select a recipe type.",preparationTime:"Please select the preparation time.",servings:"Please enter the number of servings."},ingredientsList:Dt,allergensList:At,recipeTypes:Vt,preparationTimeOptions:Re}},computed:{allSelectedIngredients(){return[...new Set(this.selectedIngredients)]},allSelectedAllergens(){return[...new Set(this.selectedAllergens)]}},methods:{checkForm(){this.showErrorMessage=!1,this.errorField=null,this.recipeName?0===this.selectedIngredients.length?this.errorField="selectedIngredients":this.instructions?this.selectedRecipeType?0===this.selectedAllergens.length?this.errorField="selectedAllergens":""===this.preparationTime?this.errorField="preparationTime":""===this.servings&&(this.errorField="servings"):this.errorField="selectedRecipeType":this.errorField="instructions":this.errorField="recipeName",this.errorField&&(this.showErrorMessage=!0,this.errorMessage=this.errorMessages[this.errorField])},handleTextFieldValueUpdate(e){this.recipeName=e},handleIngredientsUpdate(e){this.selectedIngredients=e},handleInstructionsUpdate(e){this.instructions=e},handleTypesUpdate(e){this.selectedRecipeType=e},handleAllergensUpdate(e){this.selectedAllergens=e},handleTimeUpdate(e){this.preparationTime=parseInt(e)},addRecipe(){this.checkForm(),this.showErrorMessage||P.Z.post("/addRecipe/",{name:this.recipeName,ingredients:this.allSelectedIngredients,instructions:this.instructions,type:this.selectedRecipeType,allergens:this.allSelectedAllergens,preparationTime:this.preparationTime,servings:this.servings,username_id:this.username}).then((e=>{200===e.status&&(console.log("Recipe added"),alert("Recipe added."),this.$router.push("/"))})).catch((e=>{alert(e.response)}))}},created(){this.username=localStorage.getItem("username")}};const Bt=(0,Se.Z)(Ot,[["render",ut],["__scopeId","data-v-2c0820bd"]]);var Ft=Bt;const It=[{path:"",component:qe,name:"home"},{path:"/register",component:Rs,name:"register"},{path:"/login",component:Zs,name:"login"},{path:"/addRecipe",component:Ft,name:"addRecipe"}],xt=(0,r.p7)({history:(0,r.PO)(),routes:It});var Ut=xt;function Et(e,s,t,a,r,o){const n=(0,i.up)("router-view"),l=(0,i.up)("AppHeader");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(n,{logged:r.logged,username:r.username,onLoginSuccess:o.onLoginSuccess,onUsernameSuccess:o.onUsernameSuccess,onEmailSuccess:o.onEmailSuccess,onPasswordSucess:o.onPasswordSuccess},null,8,["logged","username","onLoginSuccess","onUsernameSuccess","onEmailSuccess","onPasswordSucess"]),(0,i.Wm)(l,{logged:r.logged,username:r.username,email:r.email,password:r.password},null,8,["logged","username","email","password"])])}var Nt=t.p+"img/Logo.a8de7a81.png";const Lt={class:"app-header"},Wt={class:"image-container"},zt=["src"],Ht={class:"text-overlay"},Zt={class:"animated-title"};function qt(e,s,t,a,r,o){const n=(0,i.up)("AppHeaderUserButton");return(0,i.wg)(),(0,i.iD)("header",Lt,[(0,i._)("div",Wt,[(0,i._)("img",{class:"button-image-logo",onClick:s[0]||(s[0]=(...e)=>o.handleLogoClick&&o.handleLogoClick(...e)),src:Nt,alt:"Button"}),(0,i._)("img",{class:"image",src:r.imageUrl,alt:"Image"},null,8,zt),(0,i.Wm)(n,{logged:t.logged,username:t.username,email:t.email,password:t.password},null,8,["logged","username","email","password"]),(0,i._)("div",Ht,[(0,i._)("p",Zt,(0,R.zw)(r.title),1)])])])}const Kt={class:"button-image-user"},$t=["src"],jt={key:0,class:"user-menu"},Gt={key:1,class:"user-menu"};function Yt(e,s,t,a,r,o){return(0,i.wg)(),(0,i.iD)("div",Kt,[(0,i._)("div",{onClick:s[0]||(s[0]=(...e)=>o.toggleMenu&&o.toggleMenu(...e)),class:"button-image-user"},[(0,i._)("img",{src:r.userImage,alt:"Button",class:"user-image"},null,8,$t)]),t.logged&&r.isMenuOpen?((0,i.wg)(),(0,i.iD)("div",jt,[(0,i._)("ul",null,[(0,i._)("li",{onClick:s[1]||(s[1]=(...e)=>o.goToProfile&&o.goToProfile(...e))},"My Profile"),(0,i._)("li",{onClick:s[2]||(s[2]=(...e)=>o.logout&&o.logout(...e))},"Log Out")])])):(0,i.kq)("",!0),!t.logged&&r.isMenuOpen?((0,i.wg)(),(0,i.iD)("div",Gt,[(0,i._)("ul",null,[(0,i._)("li",{onClick:s[3]||(s[3]=(...e)=>o.goToLogin&&o.goToLogin(...e))},"Log In")])])):(0,i.kq)("",!0)])}var Jt={props:{logged:Boolean,username:String,email:String,password:String},data(){return{isMenuOpen:!1,name:"AppHeaderUserButton",userImage:t(568)}},methods:{toggleMenu(){this.isMenuOpen=!this.isMenuOpen,this.isMenuOpen?document.addEventListener("click",this.closeMenuOnClickOutside):document.removeEventListener("click",this.closeMenuOnClickOutside)},closeMenu(){this.isMenuOpen=!1,document.removeEventListener("click",this.closeMenuOnClickOutside)},closeMenuOnClickOutside(e){const s=this.$el.querySelector(".button-image-user"),t=this.$el.querySelector(".user-menu");s&&!s.contains(e.target)&&t&&!t.contains(e.target)&&this.closeMenu()},goToLogin(){this.$router.push("/login")},goToProfile(){},async logout(){try{let e=await P.Z.post("/login/",{username:this.username,email:this.email,password:this.password},{headers:{"Content-Type":"application/json"}});e.status}catch(e){e.response?400===e.response.status?(alert(e.response.data.error),localStorage.setItem("logged",!1),localStorage.setItem("username",null),localStorage.setItem("email",null),localStorage.setItem("password",null),window.location.reload()):500===e.response.status?alert("An error occurred while logging in."):alert("Unexpected error"):console.error("An error occurred while logging in.")}}}};const Qt=(0,Se.Z)(Jt,[["render",Yt],["__scopeId","data-v-d3e00876"]]);var Xt=Qt,ea={props:{logged:Boolean,username:String,email:String,password:String},components:{AppHeaderUserButton:Xt},data(){return{title:"Chef's Nook",imageUrl:t(9522)}},methods:{handleLogoClick(){this.$router.push("/")}}};const sa=(0,Se.Z)(ea,[["render",qt],["__scopeId","data-v-7e6e1f28"]]);var ta=sa,aa={components:{AppHeader:ta},data(){return{logged:"true"===localStorage.getItem("logged"),username:localStorage.getItem("username"),email:localStorage.getItem("email"),password:localStorage.getItem("password")}},methods:{onLoginSuccess(e){this.logged=e,localStorage.setItem("logged",e)},onUsernameSuccess(e){this.username=e,localStorage.setItem("username",e)},onEmailSuccess(e){this.email=e,localStorage.setItem("email",e)},onPasswordSuccess(e){this.password=e,localStorage.setItem("password",e)}}};const ra=(0,Se.Z)(aa,[["render",Et]]);var ia=ra;const oa=(0,a.ri)(ia);oa.use(Ut),oa.mount("#app")},568:function(e,s,t){e.exports=t.p+"img/DefaultUser.ef1f3f9e.jpg"},9522:function(e,s,t){e.exports=t.p+"img/HeaderImage.664baf9b.jpg"}},s={};function t(a){var r=s[a];if(void 0!==r)return r.exports;var i=s[a]={exports:{}};return e[a].call(i.exports,i,i.exports,t),i.exports}t.m=e,function(){var e=[];t.O=function(s,a,r,i){if(!a){var o=1/0;for(c=0;c<e.length;c++){a=e[c][0],r=e[c][1],i=e[c][2];for(var n=!0,l=0;l<a.length;l++)(!1&i||o>=i)&&Object.keys(t.O).every((function(e){return t.O[e](a[l])}))?a.splice(l--,1):(n=!1,i<o&&(o=i));if(n){e.splice(c--,1);var d=r();void 0!==d&&(s=d)}}return s}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[a,r,i]}}(),function(){t.d=function(e,s){for(var a in s)t.o(s,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:s[a]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)}}(),function(){t.p="http://localhost:8080/"}(),function(){var e={143:0};t.O.j=function(s){return 0===e[s]};var s=function(s,a){var r,i,o=a[0],n=a[1],l=a[2],d=0;if(o.some((function(s){return 0!==e[s]}))){for(r in n)t.o(n,r)&&(t.m[r]=n[r]);if(l)var c=l(t)}for(s&&s(a);d<o.length;d++)i=o[d],t.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return t.O(c)},a=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];a.forEach(s.bind(null,0)),a.push=s.bind(null,a.push.bind(a))}();var a=t.O(void 0,[998],(function(){return t(9175)}));a=t.O(a)})();
//# sourceMappingURL=app.102de2dc.js.map