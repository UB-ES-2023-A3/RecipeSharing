(function(){"use strict";var e={6922:function(e,t,s){var i=s(9963),r=s(2201),a=s(6252);const n=e=>((0,a.dD)("data-v-361e0788"),e=e(),(0,a.Cn)(),e),l={id:"homeMainContainer"},o={id:"homeTitleSearcherContainer"},c={class:"searchContainer"},d={id:"homeFilterContainer"},p={id:"homeFilterButtonsContainer"},u={key:0},g=n((()=>(0,a._)("div",{id:"homeSectionTitleContainer"},[(0,a._)("h1",null," Searched Recipes ")],-1))),h={id:"homeSectionFilterError"},m={key:0,class:"homeSectionFilterError"},v={id:"homeSectionContainer"},w=n((()=>(0,a._)("div",{id:"homeSectionTitleContainer"},[(0,a._)("h1",null," Most Recent Recipes ")],-1))),f={id:"homeSectionCarrouselContainer"},_=n((()=>(0,a._)("div",{id:"homeSectionSeparatorContainer"},[(0,a._)("hr")],-1))),y={id:"homeSectionContainer"},S=n((()=>(0,a._)("div",{id:"homeSectionTitleContainer"},[(0,a._)("h1",null," Most Liked Recipes ")],-1))),C={id:"homeSectionCarrouselContainer"},k=n((()=>(0,a._)("div",{id:"homeSectionSeparatorContainer"},[(0,a._)("hr")],-1))),b=n((()=>(0,a._)("i",{class:"fas fa-plus"},null,-1))),T=n((()=>(0,a._)("span",{class:"text"},"Upload new recipe",-1))),R=[b,T];function F(e,t,s,r,n,b){const T=(0,a.up)("HomeFilterDropdown"),F=(0,a.up)("AppCardCarousel");return(0,a.wg)(),(0,a.iD)("div",l,[(0,a._)("div",o,[(0,a._)("div",c,[(0,a.wy)((0,a._)("input",{class:"homeTitleSearcher",type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>n.selectedTitle=e),placeholder:"Search a recipe by its title",onKeyup:t[1]||(t[1]=(0,i.D2)(((...e)=>b.applyFilters&&b.applyFilters(...e)),["enter"]))},null,544),[[i.nr,n.selectedTitle]])])]),(0,a._)("div",d,[(0,a.Wm)(T,{class:"homeFilterDropdown",options:n.ingredientsOptions,modelValue:n.selectedIngredients,"onUpdate:modelValue":t[2]||(t[2]=e=>n.selectedIngredients=e),label:"Ingredients Filter",groupTitle:"Selected Ingredients","onUpdate:selectedValue":b.handleIngredientsUpdate,choose:!0,reset:n.showRecipesFilterIngredients},null,8,["options","modelValue","onUpdate:selectedValue","reset"]),(0,a.Wm)(T,{class:"homeFilterDropdown",options:n.typesOptions,modelValue:n.selectedTypes,"onUpdate:modelValue":t[3]||(t[3]=e=>n.selectedTypes=e),label:"Type Filter",groupTitle:"Selected Types","onUpdate:selectedValue":b.handleTypeUpdate,choose:!0,reset:n.showRecipesFilterTypes},null,8,["options","modelValue","onUpdate:selectedValue","reset"]),(0,a.Wm)(T,{class:"homeFilterDropdown",options:n.allergensOptions,modelValue:n.selectedAllergens,"onUpdate:modelValue":t[4]||(t[4]=e=>n.selectedAllergens=e),label:"Allergens Filter",groupTitle:"Selected Allergens","onUpdate:selectedValue":b.handleAllergensUpdate,choose:!0,reset:n.showRecipesFilterAllergens},null,8,["options","modelValue","onUpdate:selectedValue","reset"]),(0,a.Wm)(T,{class:"homeFilterDropdown",options:n.preparationTimeOptions,modelValue:n.selectedPreparationTime,"onUpdate:modelValue":t[5]||(t[5]=e=>n.selectedPreparationTime=e),label:"Preparation Time Filter",groupTitle:"Selected Preparation Time","onUpdate:selectedValue":b.handlePrepTimeUpdate,choose:!0,reset:n.showRecipesFilterPrepTime},null,8,["options","modelValue","onUpdate:selectedValue","reset"]),(0,a.Wm)(T,{class:"homeFilterDropdown",options:[{groupName:"Servings",options:[1,2,3,4,5,6,7,8,9,10]}],modelValue:n.selectedServings,"onUpdate:modelValue":t[6]||(t[6]=e=>n.selectedServings=e),label:"Servings Filter",groupTitle:"Selected Serving","onUpdate:selectedValue":b.handleServingUpdate,choose:!0,reset:n.showRecipesFilterServings},null,8,["modelValue","onUpdate:selectedValue","reset"])]),(0,a._)("div",p,[(0,a._)("button",{type:"submit",onClick:t[7]||(t[7]=(...e)=>b.resetFlags&&b.resetFlags(...e))},"Reset filters"),(0,a._)("button",{type:"submit",onClick:t[8]||(t[8]=(...e)=>b.applyFilters&&b.applyFilters(...e))},"Apply filters")]),n.showRecipesFilter?((0,a.wg)(),(0,a.iD)("div",u,[g,n.recipesByFilter.length>0?((0,a.wg)(),(0,a.j4)(F,{key:0,recipes:n.recipesByFilter,visibleRecipes:8,logged:s.logged,username:s.username},null,8,["recipes","logged","username"])):(0,a.kq)("",!0),(0,a._)("div",h,[0===n.recipesByFilter.length?((0,a.wg)(),(0,a.iD)("p",m,"No recipes found by those filters.")):(0,a.kq)("",!0)])])):(0,a.kq)("",!0),(0,a._)("div",v,[w,(0,a._)("div",f,[n.recipesByDate.length>0?((0,a.wg)(),(0,a.j4)(F,{key:0,type:n.recent,recipes:n.recipesByDate,visibleRecipes:8,logged:s.logged,username:s.username},null,8,["type","recipes","logged","username"])):(0,a.kq)("",!0)]),_]),(0,a._)("div",y,[S,(0,a._)("div",C,[n.recipesByRate.length>0?((0,a.wg)(),(0,a.j4)(F,{key:0,type:n.rate,recipes:n.recipesByRate,visibleRecipes:8,logged:s.logged,username:s.username},null,8,["type","recipes","logged","username"])):(0,a.kq)("",!0)]),k]),s.logged?((0,a.wg)(),(0,a.iD)("div",{key:1,class:"homeFloatingButton",onClick:t[9]||(t[9]=(...e)=>b.redirectToRecipePage&&b.redirectToRecipePage(...e))},R)):(0,a.kq)("",!0)])}s(7658);var P=s(6154),A=s(3577);const I={class:"card-carousel"},M={class:"carousel-container"};function D(e,t,s,i,r,n){const l=(0,a.up)("AppCardRecipe");return(0,a.wg)(),(0,a.iD)("div",I,[(0,a._)("div",M,[(0,a._)("button",{onClick:t[0]||(t[0]=e=>n.moveCarousel(-1)),class:(0,A.C_)(["arrow-button left-arrow",{"disabled-button":n.isAtBeginning}])},"◄ ",2),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.displayedRecipes,((e,t)=>((0,a.wg)(),(0,a.j4)(l,{key:t+this.currentCardIndex,type:this.type,recipeName:this.recipeName,recipe:e,logged:this.logged,username:s.username,visibleRecipes:s.visibleRecipes},null,8,["type","recipeName","recipe","logged","username","visibleRecipes"])))),128)),(0,a._)("button",{onClick:t[1]||(t[1]=e=>n.moveCarousel(1)),class:(0,A.C_)(["arrow-button right-arrow",{"disabled-button":n.isAtEnd}])}," ► ",2)])])}const V=e=>((0,a.dD)("data-v-f775feba"),e=e(),(0,a.Cn)(),e),U={key:0},O={key:0},x={key:0,class:"popup"},B={class:"popup-content"},$={class:"scrollable-content"},E={class:"recipe-header"},N={class:"recipe-card-title"},W=V((()=>(0,a._)("strong",null,"Creation Date:",-1))),L={class:"recipe-card-rating"},H={class:"recipe-card-rating-title"},z=V((()=>(0,a._)("h3",null,"Current Rating",-1))),Z={class:"rating-stars"},K={key:0},j=V((()=>(0,a._)("h3",null,"Add your rating:",-1))),q=[j],Y=["onClick","onMouseover"],G={class:"recipe-card-section"},J={key:0},Q={key:1},X={key:1},ee={key:0};function te(e,t,s,i,r,n){return(0,a.wg)(),(0,a.iD)("div",{class:"recipe-card",style:(0,A.j5)({"max-width":n.calculatedMaxWidth})},[s.logged?((0,a.wg)(),(0,a.iD)("div",U,[(0,a._)("div",{onClick:t[0]||(t[0]=e=>s.logged?n.togglePopup():n.goToLogin()),class:"recipe-title"},[(0,a._)("h2",null,(0,A.zw)(this.recipe.title),1),n.displaySecondaryInfo(s.type)?((0,a.wg)(),(0,a.iD)("h3",O,(0,A.zw)(n.getSecondaryInfo(s.type)),1)):(0,a.kq)("",!0)]),r.showPopup?((0,a.wg)(),(0,a.iD)("div",x,[(0,a._)("div",B,[(0,a._)("div",$,[(0,a._)("div",E,[(0,a._)("div",N,[(0,a._)("h2",null,(0,A.zw)("Title: "+this.recipe.title),1),(0,a._)("p",null,[W,(0,a.Uk)(" "+(0,A.zw)(this.recipe.creation_date),1)])]),(0,a._)("div",L,[(0,a._)("div",H,[z,(0,a._)("p",null,(0,A.zw)(this.CurrRating+" from "+this.NumRatings+" ratings"),1)]),(0,a._)("div",Z,[s.username!==this.recipe.username_id?((0,a.wg)(),(0,a.iD)("span",K,q)):(0,a.kq)("",!0),((0,a.wg)(),(0,a.iD)(a.HY,null,(0,a.Ko)([1,2,3,4,5],(e=>(0,a._)("span",{key:e,onClick:t=>n.setRating(e),onMouseover:t=>n.hoverStars(e),onMouseout:t[1]||(t[1]=(...e)=>n.resetStars&&n.resetStars(...e)),class:(0,A.C_)({filled:e<=r.rating,hovered:e<=r.hoveredStar,"hidden-stars":s.username===this.recipe.username_id})}," ★ ",42,Y))),64))])])]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.recipeSections,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:t,class:"section"},[(0,a._)("div",G,[(0,a._)("h3",null,(0,A.zw)(e.title),1),"ingredients"===t||"allergens"===t?((0,a.wg)(),(0,a.iD)("ul",J,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.parseText(e.content),((e,t)=>((0,a.wg)(),(0,a.iD)("li",{key:t},(0,A.zw)(e),1)))),128))])):"instructions"===t?((0,a.wg)(),(0,a.iD)("ol",Q,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.content.split("\n"),((e,t)=>((0,a.wg)(),(0,a.iD)("li",{key:t},(0,A.zw)(e),1)))),128))])):((0,a.wg)(),(0,a.iD)(a.HY,{key:2},[(0,a.Uk)((0,A.zw)(e.content),1)],64))])])))),128)),(0,a._)("button",{class:"submit-button",onClick:t[2]||(t[2]=(...e)=>n.togglePopup&&n.togglePopup(...e))},"Close")])])])):(0,a.kq)("",!0)])):((0,a.wg)(),(0,a.iD)("div",X,[(0,a._)("div",{onClick:t[3]||(t[3]=(...e)=>n.goToLogin&&n.goToLogin(...e)),class:"recipe-title"},[(0,a._)("h2",null,(0,A.zw)(this.recipe.title),1),n.displaySecondaryInfo(s.type)?((0,a.wg)(),(0,a.iD)("h3",ee,(0,A.zw)(n.getSecondaryInfo(s.type)),1)):(0,a.kq)("",!0)])]))],4)}var se={props:{recipe:Object,username:String,logged:Boolean,type:String,visibleRecipes:Number},computed:{recipeSections(){return{ingredients:{title:"Ingredients",content:this.recipe.ingredients},instructions:{title:"Instructions",content:this.recipe.instructions},allergens:{title:"Allergens",content:this.recipe.allergens},recipe_type:{title:"Type",content:this.recipe.recipe_type},preparation_time:{title:"Preparation time",content:this.recipe.preparation_time},servings:{title:"Servings",content:this.recipe.servings}}},calculatedMaxWidth(){const e=100/this.visibleRecipes,t=1.7;return e-t+"%"}},data(){return{showPopup:!1,rating:0,NumRatings:this.recipe.rating_amount,CurrRating:this.recipe.rating_average,recipe_id:this.recipe.id,hoveredStar:0}},methods:{togglePopup(){this.$router.push({name:"recipePage/recipe",params:{recipe_id:this.recipe_id}})},goToLogin(){alert("Log in to see the recipe!"),this.$router.push("/login")},parseText(e){const t=e.replace(/\[|\]/g,""),s=t.replace(/'/g,""),i=s.split(",");return i},displaySecondaryInfo(e){return["rate","recent","preparation_time","name","servings","recipe_type","allergens","ingredients"].includes(e)},getSecondaryInfo(e){switch(e){case"rate":return"Rating: "+this.CurrRating;case"recent":return this.recipe.creation_date;case"preparation_time":return this.recipe.preparation_time;case"name":return"";case"servings":return this.recipe.servings;case"recipe_type":return this.recipe.recipe_type;case"allergens":return this.recipe.allergens;case"ingredients":return this.recipe.ingredients;default:return""}},setRating(e){this.rating=e,this.addRating(),this.getRating()},hoverStars(e){this.hoveredStar=e},resetStars(){this.hoveredStar=0},getRating(){P.Z,P.Z.get(`recipes/getratings/${this.recipe_id}/`).then((e=>{if(200===e.status){const t=e.data;this.NumRatings=t.rating_amount,this.CurrRating=t.rating_average,console.log(e.data.recipes)}})).catch((e=>{console.error("Error al obtener los ratings:",e)}))},addRating(){P.Z.post("recipes/postratings/",{user_id:this.username,recipe_id:this.recipe.id,rating:this.rating}).then((e=>{200===e.status&&(console.log("Rating added"),alert("Rating added."),this.getRating())})).catch((e=>{alert(e.response)}))}}},ie=s(3744);const re=(0,ie.Z)(se,[["render",te],["__scopeId","data-v-f775feba"]]);var ae=re,ne={components:{AppCardRecipe:ae},props:{recipes:Array,visibleRecipes:Number,username:String,logged:Boolean,type:String,recipeName:String},data(){return{currentCardIndex:0}},computed:{displayedRecipes(){const e=this.currentCardIndex,t=e+this.visibleRecipes;return this.recipes.slice(e,t)},isAtBeginning(){return 0===this.currentCardIndex},isAtEnd(){return this.currentCardIndex+this.visibleRecipes>=this.recipes.length}},methods:{moveCarousel(e){const t=this.currentCardIndex+e;t>=0&&t<=this.recipes.length-this.visibleRecipes&&(this.currentCardIndex=t)}}};const le=(0,ie.Z)(ne,[["render",D],["__scopeId","data-v-1a3eb348"]]);var oe=le,ce=JSON.parse('[{"groupName":"Quick Meals","options":[15,30,45]},{"groupName":"Regular Meals","options":[60,90]},{"groupName":"Special Occasions","options":[120,180]}]'),de=JSON.parse('[{"groupName":"North America","options":["United States","Canada","Mexico"]},{"groupName":"South America","options":["Brazil","Argentina","Chile","Peru","Colombia"]},{"groupName":"Europe","options":["France","Italy","Germany","Spain","United Kingdom","Greece"]},{"groupName":"Asia","options":["China","India","Japan","South Korea","Thailand"]},{"groupName":"Africa","options":["Nigeria","South Africa","Egypt","Kenya","Morocco"]},{"groupName":"Oceania","options":["Australia","New Zealand","Fiji","Papua New Guinea"]}]'),pe=JSON.parse('[{"groupName":"None Allergens","options":["None"]},{"groupName":"Common Allergens","options":["Cereals containing gluten - ","Crustaceans","Eggs","Fish","Peanuts","Soybeans","Milk","Nuts","Celery","Mustard","Sesame seeds","Sulphur dioxide and sulphites","Lupin","Molluscs"]},{"groupName":"Fruits","options":["Apples","Bananas","Kiwis","Mangos","Peaches","Plums","Grapes","Cherries","Strawberries","Oranges","Lemons","Raspberries","Blackberries","Papayas","Watermelons","Pineapples"]},{"groupName":"Vegetables","options":["Tomatoes","Peppers (e.g., bell peppers, chili peppers)","Potatoes","Carrots","Cucumbers","Celery","Onions","Garlic","Spinach","Lettuce","Zucchini","Broccoli","Cauliflower","Asparagus","Radishes","Eggplants (aubergines)","Peas","Corn","Beets","Sweet potatoes"]},{"groupName":"Meat","options":["Beef","Pork","Chicken","Turkey","Lamb","Duck","Goose","Venison (deer meat)","Rabbit","Bison","Horse meat","Kangaroo","Alligator","Ostrich","Wild boar","Bear meat","Elk","Emu","Turtle","Snake"]},{"groupName":"Dairy Alternatives","options":["Almond milk","Soy milk","Oat milk","Coconut milk","Rice milk","Cashew milk","Hemp milk","Macadamia milk","Hazelnut milk","Pea milk","Flax milk","Quinoa milk","Walnut milk","Sunflower milk","Tiger nut milk","Chia milk","Potato milk","Sesame milk","Banana milk","Spelt milk","Kamut milk","Barley milk","Teff milk","Amaranth milk"]}]'),ue=JSON.parse('[{"groupName":"Fruits","options":["Apple","Banana","Blackberry","Blueberries","Cantaloupe","Cherry","Coconut","Custard Apple","Date","Dried Date","Dried Figs","Figs","Grape","Grapefruit","Gooseberry","Kiwi","Lemon","Loquats","Mango","Nectarine","Orange","Orange Juice","Papaya","Pear","Pineapple","Canned Pineapple","Persimmon","Pomegranate","Plum","Prune","Raisin","Raspberry","Strawberries","Tangerine","Watermelon"]},{"groupName":"Vegetables","options":["Artichokes","Arugula","Asparagus","Beetroot","Bell Pepper","Black Olives","Boiled Potatoes","Brussels Sprouts","Cabbage","Cabbage","Canned Asparagus","Canned Crushed Tomatoes","Carrot","Cauliflower","Celery","Cucumber","Eggplant","Endive","Escarole","Fennel","Frozen Spinach","Garlic","Green Beans","Green Onion","Lettuce","Leeks","Mushrooms and other fungi","Onion","Parsley","Pumpkin","Radishes","Soybean Sprouts","Spinach","Tomato Juice","Tomatoes","Truffle","Turnips","Watercress","Zucchini"]},{"groupName":"Nuts","options":["Almonds","Hazelnuts","Chestnuts","Peanuts","Walnuts","Pine Nuts","Pistachios"]},{"groupName":"Dairy products","options":["Cottage Cheese","Creme Caramel","Vanilla Flan","Dairy Ice Cream","Sweetened Condensed Milk","Unsweetened Condensed Milk","Goat\'s Milk","Sheep\'s Milk","Skimmed Milk","Skimmed Milk Powder","Whole Milk Powder","Whole Milk","Semi-Skimmed Milk","Mousse","Cream","Fat-Free Cottage Cheese","Brie Cheese","Camembert Cheese","Cheddar Cheese","Cream Cheese","Edam Cheese","Emmental Cheese","Spreadable Processed Cheese","Gruyere Cheese","Manchego Cheese","Mozzarella Cheese","Parmesan Cheese","Ricotta Cheese","Roquefort Cheese","Cottage Cheese","Fat-Free Yogurt","Fat-Free Fruit Yogurt","Yogurt Enriched with Cream","Natural Yogurt","Natural Yogurt with Fruit"]},{"groupName":"Meats and Sausages","options":["Bacon (Pancetta)","Boiled Butifarra","Burger","Chorizo","Chicken","Chicken Breast","Chicken Leg","Chicken Liver","Cured Ham","Cured Loin","Deer","Duck","Foie Gras","Frankfurter Sausage","Ham","Kid Goat","Lamb Liver","Lamb Ribs","Leg of Lamb","Mortadella","Partridge","Pheasant","Pig\'s Feet","Pork Chop","Pork Cracklings","Pork Liver","Pork Loin","Quail and Partridge","Rabbit and Hare","Roast Beef","Salami","Salchichón Sausage","Suckling Lamb","Turkey Breast","Turkey Leg","Veal","Veal Brains","Veal Chop","Veal Kidney","Veal Liver","Veal Sirloin","Veal Tongue","Wild Boar","York Ham"]},{"groupName":"Seafood","options":["Anchovies","Anguillas","Clams","Canned Tuna in Vegetable Oil","Canned Tuna in Water","Fresh Tuna","Fresh Cod","Dried Cod","Sea Bream","Mackerel","Squid","Crab","Caviar","Conger Eel","Dorado","Hake","John Dory","Shrimp","Lobster","Prawn","Sole","Sea Bass","Pike","Mussels","Hake","Grouper","Oysters","Silverside","Swordfish","Octopus","Turbot","Salmon","Smoked Salmon","Red Mullet","Canned Sardines in Vegetable Oil","Sardines","Trout"]},{"groupName":"Sweets and sugar","options":["Caramel","Cocoa Powder with Instant Sugar","Candies","Milk Chocolate","Dark Chocolate","Chocolate Hazelnut Spread","Quince Jelly","Water Ice Cream","Jam with Sugar","Jam without Sugar","Honey","Sugar"]},{"groupName":"Cereals","options":["Barley","Breakfast Cereals with Honey","Cereals with Chocolate","Corn Flakes","Cornmeal","White Rice","Whole Rice","Oats","Polenta","Rye","Semen Semolina","Integral Wheat Bread","Refined Wheat Flour","Whole Wheat Flour","Rye Bread","White Wheat Bread","Whole Wheat Bread","White Wheat Sliced Bread","Whole Wheat Sliced Bread","Egg Pasta","Wheat Pasta","Honey","Cassava"]},{"groupName":"Legumes","options":["Chickpeas","Kidney Beans","Lentils"]},{"groupName":"Eggs","options":["Egg White","Egg Yolk","Hard-Boiled Egg","Whole Egg"]},{"groupName":"Baked goods","options":["Apple Cake","Apple Pie","Butter Danish-Style Cookies","Bizcocho (Sponge Cake)","Cheesecake","Chocolate Croissant","Croissant","Croissant, Donut","Chocolate Cookies","Magdalenas","Puff Pastry Dough (Baked)","Savory Crackers"]},{"groupName":"Beverages","options":["Anise","Bitter Vermouth","Brandy","Cacao Powder for Chocolate","Champagne (Demi-Sec)","Champagne (Sweet)","Champagne (Dry)","Almond Milk","Coffee","Cola Drinks","Daiquiri","Gin & Tonic","Gin","Lactose-Free Cocoa Milkshake","Cane Liquor","Pina Colada","Pisco","Sweet Cider","Dry Cider","Pineapple Liqueur","Port Wine","Rum","Scotch Whisky","Sparkling Water","Sweet Sherry","Table Wine","Tea","Vodka","Water","Whiskey"]},{"groupName":"Oils and fats","options":["Butter","Lard","Olive Oil","Sunflower Oil","Vegetable Margarine"]},{"groupName":"Sauces and condiments","options":["Bechamel","Canned Tomato Sauce","Concentrated Broths","Ketchup","Light Mayonnaise","Mayonnaise","Mustard","Soy Sauce","Sofrito","Vinegars"]}]');const ge=e=>((0,a.dD)("data-v-47809626"),e=e(),(0,a.Cn)(),e),he={class:"titleFilterContainer"},me={class:"dropdownContainer"},ve=["label"],we=["value"],fe={class:"selected-values"},_e={class:"selected-ingredients-title"},ye=["onClick"],Se=ge((()=>(0,a._)("span",{class:"remove-button"},"✖",-1)));function Ce(e,t,s,r,n,l){return(0,a.wg)(),(0,a.iD)("div",{class:(0,A.C_)(["filterContainer",{filterContainerDark:l.hasSelectedOptions}])},[(0,a._)("div",he,[(0,a._)("h2",null,(0,A.zw)(s.label),1)]),(0,a._)("div",me,[(0,a.wy)((0,a._)("select",{onChange:t[0]||(t[0]=(...e)=>l.addSelectedOption&&l.addSelectedOption(...e)),class:"full-width-dropdown","onUpdate:modelValue":t[1]||(t[1]=e=>n.localSelectedValue=e)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.options,(e=>((0,a.wg)(),(0,a.iD)("optgroup",{label:e.groupName,key:e.groupName},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.options,(e=>((0,a.wg)(),(0,a.iD)("option",{value:e,key:e},(0,A.zw)(e),9,we)))),128))],8,ve)))),128))],544),[[i.bM,n.localSelectedValue]])]),(0,a._)("div",fe,[(0,a._)("h2",_e,(0,A.zw)(s.groupTitle),1),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.selectedOptions,((e,t)=>((0,a.wg)(),(0,a.iD)("button",{class:"selected-value",key:t,onClick:e=>l.removeSelectedOption(t)},[(0,a.Uk)((0,A.zw)(e)+" ",1),Se],8,ye)))),128))])],2)}var ke={props:{options:Array,selectedValue:Array,label:String,groupTitle:String,choose:Boolean,reset:Boolean},data(){return{localSelectedValue:this.selectedValue,selectedOptions:[]}},computed:{hasSelectedOptions(){return this.selectedOptions&&this.selectedOptions.length>0}},methods:{addSelectedOption(){0==this.choose&&(this.selectedOptions=[]),this.selectedOptions.includes(this.localSelectedValue)||(this.selectedOptions.push(this.localSelectedValue),this.$emit("update:selectedValue",this.selectedOptions))},removeSelectedOption(e){this.selectedOptions.splice(e,1),this.localSelectedValue="",this.$emit("update:selectedValue",this.selectedOptions)}},watch:{reset(e){0==e&&(this.localSelectedValue="",this.selectedOptions=[],this.$emit("update:selectedValue",this.selectedOptions))}}};const be=(0,ie.Z)(ke,[["render",Ce],["__scopeId","data-v-47809626"]]);var Te=be,Re={name:"HomePage",components:{AppCardCarousel:oe,HomeFilterDropdown:Te},props:{logged:Boolean,username:String,email:String,password:String},data(){return{recipesByDate:[],recipesByRate:[],recipesByFilter:[],rate:"rate",recent:"recent",selectedTitle:"",selectedPreparationTime:[],preparationTimeOptions:ce,selectedServings:[],selectedTypes:[],typesOptions:de,selectedAllergens:[],allergensOptions:pe,selectedIngredients:[],ingredientsOptions:ue,showRecipesFilter:!1,showRecipesFilterTitle:!1,showRecipesFilterPrepTime:!1,showRecipesFilterServings:!1,showRecipesFilterTypes:!1,showRecipesFilterAllergens:!1,showRecipesFilterIngredients:!1,error:""}},methods:{redirectToRecipePage(){this.$router.push("/addRecipe")},handlePrepTimeUpdate(e){this.selectedPreparationTime=e,0!==this.selectedPreparationTime.length?this.showRecipesFilterPrepTime=!0:(this.showRecipesFilterPrepTime=!1,this.hideSearchRecipes()),this.applyFilters()},handleServingUpdate(e){this.selectedServings=e,0!==this.selectedServings.length?this.showRecipesFilterServings=!0:(this.showRecipesFilterServings=!1,this.hideSearchRecipes()),this.applyFilters()},handleTypeUpdate(e){this.selectedTypes=e,0!==this.selectedTypes.length?this.showRecipesFilterTypes=!0:(this.showRecipesFilterTypes=!1,this.hideSearchRecipes()),this.applyFilters()},handleAllergensUpdate(e){this.selectedAllergens=e,0!==this.selectedAllergens.length?this.showRecipesFilterAllergens=!0:(this.showRecipesFilterAllergens=!1,this.hideSearchRecipes()),this.applyFilters()},handleIngredientsUpdate(e){this.selectedIngredients=e,0!==this.selectedIngredients.length?this.showRecipesFilterIngredients=!0:(this.showRecipesFilterIngredients=!1,this.hideSearchRecipes()),this.applyFilters()},hideSearchRecipes(){this.showRecipesFilterTitle||this.showRecipesFilterIngredients||this.showRecipesFilterAllergens||this.showRecipesFilterTypes||this.showRecipesFilterServings||this.showRecipesFilterPrepTime?this.showRecipesFilter=!0:this.showRecipesFilter=!1},resetFlags(){this.showRecipesFilterTitle=!1,this.showRecipesFilterPrepTime=!1,this.showRecipesFilterServings=!1,this.showRecipesFilterTypes=!1,this.showRecipesFilterAllergens=!1,this.showRecipesFilterIngredients=!1,this.showRecipesFilter=!1,this.selectedTitle=""},async applyFilters(){await this.fetchData();try{let e=!1,t="recipes/";if(""!=this.selectedTitle&&(t+=`title=${this.selectedTitle}`,e=!0),this.showRecipesFilterPrepTime)if(e)if(this.selectedPreparationTime.length>1)for(let i=0;i<this.selectedPreparationTime.length;i++)0==i?t+=`%A2preparation_time=${this.selectedPreparationTime[i]}+`:i==this.selectedPreparationTime.length-1?t+=`${this.selectedPreparationTime[i]}`:t+=`${this.selectedPreparationTime[i]}+`;else t+=`%A2preparation_time=${this.selectedPreparationTime[0]}`;else{if(this.selectedPreparationTime.length>1)for(let e=0;e<this.selectedPreparationTime.length;e++)0==e?t+=`preparation_time=${this.selectedPreparationTime[e]}+`:e==this.selectedPreparationTime.length-1?t+=`${this.selectedPreparationTime[e]}`:t+=`${this.selectedPreparationTime[e]}+`;else t+=`preparation_time=${this.selectedPreparationTime[0]}`;e=!0}if(this.showRecipesFilterServings)if(e)if(this.selectedServings.length>1)for(let i=0;i<this.selectedServings.length;i++)0==i?t+=`%A2servings=${this.selectedServings[i]}+`:i==this.selectedServings.length-1?t+=`${this.selectedServings[i]}`:t+=`${this.selectedServings[i]}+`;else t+=`%A2servings=${this.selectedServings[0]}`;else{if(this.selectedServings.length>1)for(let e=0;e<this.selectedServings.length;e++)0==e?t+=`servings=${this.selectedServings[e]}+`:e==this.selectedServings.length-1?t+=`${this.selectedServings[e]}`:t+=`${this.selectedServings[e]}+`;else t+=`servings=${this.selectedServings[0]}`;e=!0}if(this.showRecipesFilterTypes)if(e)if(this.selectedTypes.length>1)for(let i=0;i<this.selectedTypes.length;i++)0==i?t+=`%A2recipe_type=${this.selectedTypes[i]}+`:i==this.selectedTypes.length-1?t+=`${this.selectedTypes[i]}`:t+=`${this.selectedTypes[i]}+`;else t+=`%A2recipe_type=${this.selectedTypes[0]}`;else{if(this.selectedTypes.length>1)for(let e=0;e<this.selectedTypes.length;e++)0==e?t+=`recipe_type=${this.selectedTypes[e]}+`:e==this.selectedTypes.length-1?t+=`${this.selectedTypes[e]}`:t+=`${this.selectedTypes[e]}+`;else t+=`recipe_type=${this.selectedTypes[0]}`;e=!0}if(this.showRecipesFilterAllergens)if(e)if(this.selectedAllergens.length>1)for(let i=0;i<this.selectedAllergens.length;i++)0==i?t+=`%A2allergens=${this.selectedAllergens[i]}+`:i==this.selectedAllergens.length-1?t+=`${this.selectedAllergens[i]}`:t+=`${this.selectedAllergens[i]}+`;else t+=`%A2allergens=${this.selectedAllergens[0]}`;else{if(this.selectedAllergens.length>1)for(let e=0;e<this.selectedAllergens.length;e++)0==e?t+=`allergens=${this.selectedAllergens[e]}+`:e==this.selectedAllergens.length-1?t+=`${this.selectedAllergens[e]}`:t+=`${this.selectedAllergens[e]}+`;else t+=`allergens=${this.selectedAllergens[0]}`;e=!0}if(this.showRecipesFilterIngredients)if(e)if(this.selectedIngredients.length>1)for(let i=0;i<this.selectedIngredients.length;i++)0==i?t+=`%A2ingredients=${this.selectedIngredients[i]}+`:i==this.selectedIngredients.length-1?t+=`${this.selectedIngredients[i]}`:t+=`${this.selectedIngredients[i]}+`;else t+=`%A2ingredients=${this.selectedIngredients[0]}`;else{if(this.selectedIngredients.length>1)for(let e=0;e<this.selectedIngredients.length;e++)0==e?t+=`ingredients=${this.selectedIngredients[e]}+`:e==this.selectedIngredients.length-1?t+=`${this.selectedIngredients[e]}`:t+=`${this.selectedIngredients[e]}+`;else t+=`ingredients=${this.selectedIngredients[0]}`;e=!0}const s=await P.Z.get(t);if(200===s.status){const e=s.data.recipes;this.recipesByFilter=e,this.showRecipesFilter=!0,console.log(s.data.recipes)}}catch(e){e.response?400===e.response.status?console.error(e.response.data.error):500===e.response.status?console.error("An error occurred while registering."):console.error("Unexpected error"):console.error("An error occurred while logging in.")}},async fetchData(){try{await P.Z.get("/")}catch(e){console.error("Error fetching data:",e)}},async getRecipesByRate(){await this.fetchData();try{const e=await P.Z.get("recipes/rate/");if(200===e.status){const t=e.data.recipes;this.recipesByRate=t,console.log(e.data.recipes)}}catch(e){console.error("Error fetching recipes by rate:",e)}},async getRecipesByRecent(){await this.fetchData();try{const e=await P.Z.get("recipes/recent/");if(200===e.status){const t=e.data.recipes;this.recipesByDate=t,console.log(e.data.recipes)}}catch(e){console.error("Error fetching recent recipes:",e)}}},created(){this.getRecipesByRate(),this.getRecipesByRecent()}};const Fe=(0,ie.Z)(Re,[["render",F],["__scopeId","data-v-361e0788"]]);var Pe=Fe;const Ae=e=>((0,a.dD)("data-v-1761a2ae"),e=e(),(0,a.Cn)(),e),Ie={id:"registerMainContainer"},Me={id:"registerCenteredContainer"},De={id:"register"},Ve=Ae((()=>(0,a._)("label",{for:"username"},"Username:",-1))),Ue=Ae((()=>(0,a._)("div",{class:"note"},[(0,a._)("p",null,"The username must be between 8 and 16 characters.")],-1))),Oe={key:0,class:"error"},xe=Ae((()=>(0,a._)("label",{for:"email"},"Email:",-1))),Be=Ae((()=>(0,a._)("div",{class:"note"},[(0,a._)("p",null,"Only the following domains are valid: example.com, yourdomain.com, gmail.com, hotmail.com")],-1))),$e={key:1,class:"error"},Ee=Ae((()=>(0,a._)("label",{for:"password"},"Password:",-1))),Ne=Ae((()=>(0,a._)("div",{class:"note"},[(0,a._)("p",null,"The password must be at least 8 characters long, contain one uppercase letter, one lowercase letter, one number, and one symbol.")],-1))),We={key:2,class:"error"},Le=Ae((()=>(0,a._)("label",{for:"confirmPassword"},"Confirm Password:",-1))),He=Ae((()=>(0,a._)("br",null,null,-1))),ze={class:"password-strength"},Ze={class:"password-strength-meter"},Ke=Ae((()=>(0,a._)("button",{type:"submit",class:"submit-button"},"Register",-1))),je={id:"registerRight"},qe=Ae((()=>(0,a._)("div",{class:"registerTitle"}," Register ",-1))),Ye=Ae((()=>(0,a._)("hr",null,null,-1))),Ge={class:"registerRightForm"},Je=Ae((()=>(0,a._)("hr",null,null,-1)));function Qe(e,t,s,r,n,l){const o=(0,a.up)("AppTextField"),c=(0,a.up)("AppTextFieldPassword"),d=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",Ie,[(0,a._)("div",Me,[(0,a._)("div",De,[(0,a._)("form",{onSubmit:t[4]||(t[4]=(0,i.iM)(((...e)=>l.register&&l.register(...e)),["prevent"])),class:"registerForm"},[Ve,(0,a.Wm)(o,{defaultMessage:n.defaultMessageUsername,"onUpdate:textValue":t[0]||(t[0]=e=>n.username=e),onInput:l.checkUsername},null,8,["defaultMessage","onInput"]),Ue,n.usernameError?((0,a.wg)(),(0,a.iD)("p",Oe,"This username is not valid")):(0,a.kq)("",!0),xe,(0,a.Wm)(o,{defaultMessage:n.defaultMessageEmail,"onUpdate:textValue":t[1]||(t[1]=e=>n.email=e),onInput:l.checkEmail},null,8,["defaultMessage","onInput"]),Be,n.emailError?((0,a.wg)(),(0,a.iD)("p",$e,"This email extension is not valid")):(0,a.kq)("",!0),Ee,(0,a.Wm)(c,{defaultMessage:n.defaultMessagePassword,"onUpdate:textValue":t[2]||(t[2]=e=>n.password=e),onInput:l.checkPassword},null,8,["defaultMessage","onInput"]),Ne,n.passwordError?((0,a.wg)(),(0,a.iD)("p",We,"This password is not valid")):(0,a.kq)("",!0),Le,(0,a.Wm)(c,{defaultMessage:n.defaultMessagePasswordCheck,"onUpdate:textValue":t[3]||(t[3]=e=>n.confirmPassword=e)},null,8,["defaultMessage"]),He,(0,a._)("div",ze,[(0,a.Uk)(" Password Strength: "),(0,a._)("div",Ze,[(0,a._)("div",{class:"password-strength-bar",style:(0,A.j5)({width:n.passwordStrength+"%"})},null,4)])]),Ke],32)]),(0,a._)("div",je,[qe,Ye,(0,a._)("div",Ge,[(0,a.Wm)(d,{to:"/login"},{default:(0,a.w5)((()=>[(0,a.Uk)("Already have an account? Log in")])),_:1}),Je,(0,a.Wm)(d,{to:"/"},{default:(0,a.w5)((()=>[(0,a.Uk)("« Go back to the main page")])),_:1})])])])])}function Xe(e,t,s,r,n,l){return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.message=e),onBlur:t[1]||(t[1]=(...e)=>l.saveMessage&&l.saveMessage(...e)),onKeyup:t[2]||(t[2]=(0,i.D2)(((...e)=>l.saveMessage&&l.saveMessage(...e)),["enter"])),onFocus:t[3]||(t[3]=(...e)=>l.clearDefaultMessage&&l.clearDefaultMessage(...e)),ref:"messageInput",style:(0,A.j5)(l.inputStyle),onInput:t[4]||(t[4]=(...e)=>l.updateTextFieldValue&&l.updateTextFieldValue(...e))},null,36),[[i.nr,n.message]])])}var et={name:"AppTextField.vue",props:{defaultMessage:String},data(){return{message:this.defaultMessage,isSaved:!1,clearedOnce:!1}},computed:{inputStyle(){return{backgroundColor:this.isSaved?"#eea94d":"#FCE4A4",color:this.isSaved?"white":"black",padding:"10px",border:"1px solid #ccc",borderRadius:"5px",width:"100%",minWidth:"300px",display:"block",marginBottom:"10px"}}},methods:{saveMessage(){this.isSaved=!0,this.$refs.messageInput.blur()},clearDefaultMessage(){this.clearedOnce||(this.message="",this.clearedOnce=!0)},updateTextFieldValue(){this.$emit("update:textValue",this.message)}}};const tt=(0,ie.Z)(et,[["render",Xe]]);var st=tt;const it={class:"text-field-container"},rt=["type"];function at(e,t,s,r,n,l){return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",it,[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.message=e),onBlur:t[1]||(t[1]=(...e)=>l.saveMessage&&l.saveMessage(...e)),onFocus:t[2]||(t[2]=(...e)=>l.clearDefaultMessage&&l.clearDefaultMessage(...e)),ref:"messageInput",onInput:t[3]||(t[3]=(...e)=>l.updateTextFieldValue&&l.updateTextFieldValue(...e)),style:(0,A.j5)(l.inputStyle),type:n.isPasswordVisible?"text":"password",onKeydown:t[4]||(t[4]=(...e)=>l.handleEnterKey&&l.handleEnterKey(...e))},null,44,rt),[[i.YZ,n.message]])]),(0,a._)("button",{onClick:t[5]||(t[5]=(0,i.iM)(((...e)=>l.togglePasswordVisibility&&l.togglePasswordVisibility(...e)),["prevent"])),class:(0,A.C_)({"password-toggle-button-visible":n.isPasswordVisible,"password-toggle-button-hidden":!n.isPasswordVisible})},[(0,a._)("i",{class:(0,A.C_)(n.isPasswordVisible?"far fa-eye":"far fa-eye-slash")},null,2)],2)])}var nt={name:"AppTextFieldPassword.vue",props:{defaultMessage:String},data(){return{message:this.defaultMessage,isSaved:!1,isPasswordVisible:!1,clearedOnce:!1}},computed:{inputStyle(){return{backgroundColor:this.isSaved?"#eea94d":"#FCE4A4",color:this.isSaved?"white":"black",padding:"10px",border:"1px solid #ccc",borderRadius:"5px",width:"100%",minWidth:"300px",display:"block"}}},methods:{saveMessage(){this.isSaved=!0,this.$refs.messageInput.blur()},clearDefaultMessage(){this.clearedOnce||(this.clearedOnce=!0,this.message="")},togglePasswordVisibility(){this.isPasswordVisible=!this.isPasswordVisible},updateTextFieldValue(){this.$emit("update:textValue",this.message)},handleEnterKey(e){"Enter"===e.key&&e.preventDefault()}}};const lt=(0,ie.Z)(nt,[["render",at]]);var ot=lt,ct={name:"RegisterPage",components:{AppTextField:st,AppTextFieldPassword:ot},data(){return{username:"",usernameError:!1,email:"",emailError:!1,password:"",passwordError:!1,confirmPassword:"",passwordStrength:0,defaultMessageUsername:"Introduce your username",defaultMessageEmail:"Introduce your email",defaultMessagePassword:"Introduce your password",defaultMessagePasswordCheck:"Introduce your password again"}},methods:{checkUsername(){this.usernameError=this.username.length<8||this.username.length>16},checkEmail(){const e=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;if(e.test(this.email)){const e=["example.com","yourdomain.com","gmail.com","hotmail.com"],t=this.email.split("@"),s=t[1];this.emailError=!e.includes(s)}else this.emailError=!0},checkPassword(){const e=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[\W_]).{8,}$/;this.passwordError=!e.test(this.password);let t=0;this.password.length>=8&&t++,/[a-z]/.test(this.password)&&/[A-Z]/.test(this.password)&&t++,/\d/.test(this.password)&&t++,/\W|_/.test(this.password)&&t++,this.passwordStrength=t/4*100},clearForm(){this.username="",this.email="",this.password="",this.confirmPassword=""},async register(){if(0!==this.username.length&&0!==this.email.length&&0!==this.password.length&&0!==this.confirmPassword.length)if(this.password===this.confirmPassword)try{let e=await P.Z.post("/register/",{username:this.username,email:this.email,password:this.password},{headers:{"Content-Type":"application/json"}});200===e.status&&(console.log("Registration successful"),alert("Registration successful"),this.$router.push("/"))}catch(e){e.response?400===e.response.status?alert(e.response.data.error):500===e.response.status?alert("An error occurred while registering."):alert("Unexpected error"):alert("An error occurred while registering.")}else alert("Passwords do not match");else alert("Complete the form")}}};const dt=(0,ie.Z)(ct,[["render",Qe],["__scopeId","data-v-1761a2ae"]]);var pt=dt;const ut=e=>((0,a.dD)("data-v-684d3cb9"),e=e(),(0,a.Cn)(),e),gt={id:"loginMainContainer"},ht={id:"loginCenteredContainer"},mt={id:"login"},vt=ut((()=>(0,a._)("label",{for:"usernameOrEmail"},"Username or Email:",-1))),wt=ut((()=>(0,a._)("label",{for:"password"},"Password:",-1))),ft=ut((()=>(0,a._)("button",{type:"submit"},"Login",-1))),_t={id:"loginRight"},yt=ut((()=>(0,a._)("div",{class:"loginTitle"}," Login ",-1))),St=ut((()=>(0,a._)("hr",null,null,-1))),Ct={class:"loginRightForm"},kt=ut((()=>(0,a._)("hr",null,null,-1)));function bt(e,t,s,r,n,l){const o=(0,a.up)("AppTextField"),c=(0,a.up)("AppTextFieldPassword"),d=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",gt,[(0,a._)("div",ht,[(0,a._)("div",mt,[(0,a._)("form",{onSubmit:t[2]||(t[2]=(0,i.iM)(((...e)=>l.login&&l.login(...e)),["prevent"])),id:"loginForm"},[vt,(0,a.Wm)(o,{defaultMessage:n.defaultMessageUsernameOrEmail,"onUpdate:textValue":t[0]||(t[0]=e=>n.usernameOrEmail=e)},null,8,["defaultMessage"]),wt,(0,a.Wm)(c,{defaultMessage:n.defaultMessagePassword,"onUpdate:textValue":t[1]||(t[1]=e=>n.password=e)},null,8,["defaultMessage"]),ft],32)]),(0,a._)("div",_t,[yt,St,(0,a._)("div",Ct,[(0,a.Wm)(d,{to:"/register"},{default:(0,a.w5)((()=>[(0,a.Uk)("Don't have an account? Register here")])),_:1}),kt,(0,a.Wm)(d,{to:"/"},{default:(0,a.w5)((()=>[(0,a.Uk)("« Return")])),_:1})])])])])}var Tt={name:"LoginPage",components:{AppTextFieldPassword:ot,AppTextField:st},data(){return{usernameOrEmail:"",password:"",username:"",email:"",defaultMessageUsernameOrEmail:"Enter your username or email",defaultMessagePassword:"Enter your password",logged:!1}},methods:{async login(){if(0===this.usernameOrEmail||0===this.password.length)return void alert("Complete the form");let e=this.usernameOrEmail;e.match(/^[A-Za-z0-9._%-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,4}$/)?this.email=e:this.username=e;try{let e=await P.Z.post("/login/",{username:this.username,email:this.email,password:this.password},{headers:{"Content-Type":"application/json"}});200===e.status&&(alert("Logged!"),this.logged=!0,localStorage.setItem("logged",this.logged),localStorage.setItem("username",this.username),this.$emit("login-success",this.logged),this.$emit("username-success",this.username),this.$emit("email-success",this.email),this.$emit("password-success",this.password),this.$router.push("/"))}catch(t){t.response?400===t.response.status?alert(t.response.data.error):500===t.response.status?alert("An error occurred while registering."):alert("Unexpected error"):console.error("An error occurred while logging in.")}}}};const Rt=(0,ie.Z)(Tt,[["render",bt],["__scopeId","data-v-684d3cb9"]]);var Ft=Rt;const Pt=e=>((0,a.dD)("data-v-2c0820bd"),e=e(),(0,a.Cn)(),e),At={class:"mainContainer",style:{color:"black"}},It={class:"form-background"},Mt=Pt((()=>(0,a._)("div",{class:"mainTitle",style:{color:"#ff5733"}},[(0,a._)("h1",null,"Add Recipe")],-1))),Dt={class:"form-group"},Vt=Pt((()=>(0,a._)("label",{for:"recipeName"},"Name of the recipe:",-1))),Ut={class:"form-group"},Ot=Pt((()=>(0,a._)("label",{for:"ingredients"},"Ingredients:",-1))),xt={class:"form-group"},Bt=Pt((()=>(0,a._)("label",{for:"instructions"},"Instructions:",-1))),$t={class:"form-group"},Et=Pt((()=>(0,a._)("label",{for:"recipeType"},"Type of recipe:",-1))),Nt={class:"form-group"},Wt=Pt((()=>(0,a._)("label",{for:"allergens"},"Allergens:",-1))),Lt={class:"form-group"},Ht=Pt((()=>(0,a._)("label",{for:"preparationTime"},"Preparation time:",-1))),zt={class:"form-group"},Zt=Pt((()=>(0,a._)("label",{for:"servings"},"Servings:",-1))),Kt={key:0,class:"error-message"},jt=Pt((()=>(0,a._)("div",{class:"secondaryContainer",style:{"background-color":"white"}},[(0,a._)("button",{type:"submit",class:"submit-button"},"Add Recipe")],-1)));function qt(e,t,s,r,n,l){const o=(0,a.up)("AppTextField"),c=(0,a.up)("DropdownSelect"),d=(0,a.up)("TextArea");return(0,a.wg)(),(0,a.iD)("div",At,[(0,a._)("div",It,[Mt,(0,a._)("form",{onSubmit:t[7]||(t[7]=(0,i.iM)(((...e)=>l.addRecipe&&l.addRecipe(...e)),["prevent"])),class:"form"},[(0,a._)("div",Dt,[Vt,(0,a.Wm)(o,{defaultMessage:n.defaultMessageRecipe,modelValue:n.recipeName,"onUpdate:modelValue":t[0]||(t[0]=e=>n.recipeName=e),"onUpdate:textValue":l.handleTextFieldValueUpdate},null,8,["defaultMessage","modelValue","onUpdate:textValue"])]),(0,a._)("div",Ut,[Ot,(0,a.Wm)(c,{options:n.ingredientsList,modelValue:n.selectedIngredients,"onUpdate:modelValue":t[1]||(t[1]=e=>n.selectedIngredients=e),label:"an ingredient",groupTitle:"Selected Ingredients","onUpdate:selectedValue":l.handleIngredientsUpdate,choose:!0},null,8,["options","modelValue","onUpdate:selectedValue"])]),(0,a._)("div",xt,[Bt,(0,a.Wm)(d,{defaultMessage:n.defaultMessageInstructions,modelValue:n.instructions,"onUpdate:modelValue":t[2]||(t[2]=e=>n.instructions=e),"onUpdate:textValue":l.handleInstructionsUpdate},null,8,["defaultMessage","modelValue","onUpdate:textValue"])]),(0,a._)("div",$t,[Et,(0,a.Wm)(c,{options:n.recipeTypes,modelValue:n.selectedRecipeType,"onUpdate:modelValue":t[3]||(t[3]=e=>n.selectedRecipeType=e),label:"Recipe type",groupTitle:"Selected Type","onUpdate:selectedValue":l.handleTypesUpdate,choose:!0},null,8,["options","modelValue","onUpdate:selectedValue"])]),(0,a._)("div",Nt,[Wt,(0,a.Wm)(c,{options:n.allergensList,modelValue:n.selectedAllergens,"onUpdate:modelValue":t[4]||(t[4]=e=>n.selectedAllergens=e),label:"an allergen",groupTitle:"Selected Allergens","onUpdate:selectedValue":l.handleAllergensUpdate,choose:!0},null,8,["options","modelValue","onUpdate:selectedValue"])]),(0,a._)("div",Lt,[Ht,(0,a.Wm)(c,{options:n.preparationTimeOptions,modelValue:n.preparationTime,"onUpdate:modelValue":t[5]||(t[5]=e=>n.preparationTime=e),label:"preparation time",groupTitle:"Selected Preparation Time","onUpdate:selectedValue":l.handleTimeUpdate,choose:!1},null,8,["options","modelValue","onUpdate:selectedValue"])]),(0,a._)("div",zt,[Zt,(0,a.wy)((0,a._)("input",{type:"number",id:"servings","onUpdate:modelValue":t[6]||(t[6]=e=>n.servings=e),class:"full-width-dropdown",min:"1",max:"10"},null,512),[[i.nr,n.servings]])]),n.showErrorMessage?((0,a.wg)(),(0,a.iD)("div",Kt,(0,A.zw)(n.errorMessage),1)):(0,a.kq)("",!0),jt],32)])])}const Yt=e=>((0,a.dD)("data-v-f9ae591e"),e=e(),(0,a.Cn)(),e),Gt={class:"container"},Jt={value:"",disabled:""},Qt=["label"],Xt=["value"],es={class:"selected-values"},ts={class:"selected-ingredients-title"},ss=["onClick"],is=Yt((()=>(0,a._)("span",{class:"remove-button"},"✖",-1)));function rs(e,t,s,r,n,l){return(0,a.wg)(),(0,a.iD)("div",Gt,[(0,a.wy)((0,a._)("select",{onChange:t[0]||(t[0]=(...e)=>l.addSelectedOption&&l.addSelectedOption(...e)),class:"full-width-dropdown","onUpdate:modelValue":t[1]||(t[1]=e=>n.localSelectedValue=e)},[(0,a._)("option",Jt,"Select "+(0,A.zw)(s.label),1),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.options,(e=>((0,a.wg)(),(0,a.iD)("optgroup",{label:e.groupName,key:e.groupName},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.options,(e=>((0,a.wg)(),(0,a.iD)("option",{value:e,key:e},(0,A.zw)(e),9,Xt)))),128))],8,Qt)))),128))],544),[[i.bM,n.localSelectedValue]]),(0,a._)("div",es,[(0,a._)("h2",ts,(0,A.zw)(s.groupTitle),1),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.selectedOptions,((e,t)=>((0,a.wg)(),(0,a.iD)("button",{class:"selected-value",key:t,onClick:e=>l.removeSelectedOption(t)},[(0,a.Uk)((0,A.zw)(e)+" ",1),is],8,ss)))),128))])])}var as={props:{options:Array,selectedValue:Array,label:String,groupTitle:String,choose:Boolean},data(){return{localSelectedValue:this.selectedValue,selectedOptions:[]}},methods:{addSelectedOption(){const e=this.localSelectedValue;0==this.choose&&(this.selectedOptions=[]),e&&!this.selectedOptions.includes(e)&&(this.selectedOptions.push(e),this.$emit("update:selectedValue",this.selectedOptions))},removeSelectedOption(e){this.selectedOptions.splice(e,1)}}};const ns=(0,ie.Z)(as,[["render",rs],["__scopeId","data-v-f9ae591e"]]);var ls=ns;function os(e,t,s,r,n,l){return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.wy)((0,a._)("textarea",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.message=e),onBlur:t[1]||(t[1]=(...e)=>l.saveMessage&&l.saveMessage(...e)),onKeyup:t[2]||(t[2]=(0,i.D2)(((...e)=>l.saveMessage&&l.saveMessage(...e)),["enter"])),onFocus:t[3]||(t[3]=(...e)=>l.clearDefaultMessage&&l.clearDefaultMessage(...e)),ref:"messageInput",style:(0,A.j5)(l.inputStyle),onInput:t[4]||(t[4]=(...e)=>l.adjustTextAreaHeight&&l.adjustTextAreaHeight(...e))},null,36),[[i.nr,n.message]])])}var cs={props:{defaultMessage:String},data(){return{message:this.defaultMessage}},computed:{inputStyle(){return{color:"black",padding:"10px",border:"1px solid #ccc",width:"100%",minWidth:"300px",display:"block",margin:"0 auto",marginTop:"10px",backgroundColor:"#FCE4A4"}}},methods:{saveMessage(){this.$emit("update:textValue",this.message)},clearDefaultMessage(){this.message=""},adjustTextAreaHeight(){const e=this.$refs.messageInput;e.style.height="auto",e.style.height=e.scrollHeight+"px"}}};const ds=(0,ie.Z)(cs,[["render",os]]);var ps=ds,us={components:{AppTextField:st,DropdownSelect:ls,TextArea:ps},data(){return{username:"",recipeName:"",selectedIngredients:"",instructions:"",selectedRecipeType:"",selectedAllergens:"",preparationTime:"",servings:"",defaultMessageRecipe:"Introduce the name of your recipe",defaultMessageInstructions:"Introduce the instructions",showErrorMessage:!1,errorField:null,errorMessage:"",errorMessages:{recipeName:"Please enter the recipe name.",selectedIngredients:"Please select at least one ingredient.",selectedAllergens:"Please select at least one allergen.",instructions:"Please provide instructions for the recipe.",selectedRecipeType:"Please select a recipe type.",preparationTime:"Please select the preparation time.",servings:"Please enter the number of servings."},ingredientsList:ue,allergensList:pe,recipeTypes:de,preparationTimeOptions:ce}},computed:{allSelectedIngredients(){return[...new Set(this.selectedIngredients)]},allSelectedAllergens(){return[...new Set(this.selectedAllergens)]}},methods:{checkForm(){this.showErrorMessage=!1,this.errorField=null,this.recipeName?0===this.selectedIngredients.length?this.errorField="selectedIngredients":this.instructions?this.selectedRecipeType?0===this.selectedAllergens.length?this.errorField="selectedAllergens":""===this.preparationTime?this.errorField="preparationTime":""===this.servings&&(this.errorField="servings"):this.errorField="selectedRecipeType":this.errorField="instructions":this.errorField="recipeName",this.errorField&&(this.showErrorMessage=!0,this.errorMessage=this.errorMessages[this.errorField])},handleTextFieldValueUpdate(e){this.recipeName=e},handleIngredientsUpdate(e){this.selectedIngredients=e},handleInstructionsUpdate(e){this.instructions=e},handleTypesUpdate(e){this.selectedRecipeType=e},handleAllergensUpdate(e){this.selectedAllergens=e},handleTimeUpdate(e){this.preparationTime=parseInt(e)},addRecipe(){this.checkForm(),this.showErrorMessage||P.Z.post("/addRecipe/",{name:this.recipeName,ingredients:this.allSelectedIngredients,instructions:this.instructions,type:this.selectedRecipeType,allergens:this.allSelectedAllergens,preparationTime:this.preparationTime,servings:this.servings,username_id:this.username}).then((e=>{200===e.status&&(console.log("Recipe added"),alert("Recipe added."),this.$router.push("/"))})).catch((e=>{alert(e.response)}))}},created(){this.username=localStorage.getItem("username")}};const gs=(0,ie.Z)(us,[["render",qt],["__scopeId","data-v-2c0820bd"]]);var hs=gs;const ms=e=>((0,a.dD)("data-v-784952cb"),e=e(),(0,a.Cn)(),e),vs={class:"mainContainer"},ws={class:"secondaryContainer"},fs=ms((()=>(0,a._)("div",{class:"titleContainerHP"},[(0,a._)("div",{class:"mainTitleHP"},[(0,a._)("h1",null," Username ")])],-1))),_s={class:"profileInfo"},ys={class:"secondaryContainer"},Ss=ms((()=>(0,a._)("div",{class:"titleContainerHP"},[(0,a._)("div",{class:"mainTitleHP"},[(0,a._)("h1",null," Email ")])],-1))),Cs={class:"profileInfo"},ks={class:"secondaryContainer"},bs=ms((()=>(0,a._)("div",{class:"titleContainerHP"},[(0,a._)("div",{class:"mainTitleHP"},[(0,a._)("h1",null," Favourite Recipes ")])],-1))),Ts={class:"secondaryContainer"},Rs=ms((()=>(0,a._)("div",{class:"titleContainerHP"},[(0,a._)("div",{class:"mainTitleHP"},[(0,a._)("h1",null," Own Recipes ")])],-1)));function Fs(e,t,s,i,r,n){const l=(0,a.up)("AppCardCarousel");return(0,a.wg)(),(0,a.iD)("div",vs,[(0,a._)("div",ws,[fs,(0,a._)("h3",_s,(0,A.zw)(this.profileInfo.username),1)]),(0,a._)("div",ys,[Ss,(0,a._)("h3",Cs,(0,A.zw)(this.profileInfo.email),1)]),(0,a._)("div",ks,[bs,r.favoriteRecipes.length>0?((0,a.wg)(),(0,a.j4)(l,{key:0,type:r.rate,recipes:this.favoriteRecipes,visibleRecipes:10,logged:this.logged,username:this.username},null,8,["type","recipes","logged","username"])):(0,a.kq)("",!0)]),(0,a._)("div",Ts,[Rs,r.ownRecipes.length>0?((0,a.wg)(),(0,a.j4)(l,{key:0,type:r.rate,recipes:this.ownRecipes,visibleRecipes:8,logged:this.logged,username:this.username},null,8,["type","recipes","logged","username"])):(0,a.kq)("",!0)])])}var Ps={name:"HomePage.vue",components:{AppCardCarousel:oe},props:{logged:Boolean,username:String,email:String,password:String},data(){return{ownRecipes:[],favoriteRecipes:[],rate:"rate",recent:"recent",profileInfo:{}}},methods:{getUserInformation(){P.Z.get(`user/${this.username}/`).then((e=>{if(200===e.status){const t=e.data.user;this.profileInfo=t,this.favoriteRecipes=Object.values(this.profileInfo.list_favorite_recipes),this.ownRecipes=Object.values(this.profileInfo.list_own_recipes),console.log(e.data.user)}})).catch((e=>{console.error("Error al obtener las información del usuario:",e)}))}},created(){this.getUserInformation()}};const As=(0,ie.Z)(Ps,[["render",Fs],["__scopeId","data-v-784952cb"]]);var Is=As;const Ms=e=>((0,a.dD)("data-v-d7c4887e"),e=e(),(0,a.Cn)(),e),Ds={key:0,class:"mainContainer"},Vs={class:"recipe-header"},Us={class:"recipe-card-title"},Os=Ms((()=>(0,a._)("strong",null,"Creation Date:",-1))),xs={class:"recipe-card-rating"},Bs={class:"recipe-card-rating-title"},$s=Ms((()=>(0,a._)("h3",null,"Current Rating",-1))),Es={class:"rating-stars"},Ns={key:0},Ws=Ms((()=>(0,a._)("h3",null,"Add your rating:",-1))),Ls=[Ws],Hs=["onClick","onMouseover"],zs={class:"section"},Zs={class:"recipe-card-section"},Ks=Ms((()=>(0,a._)("h3",null,"Ingredients",-1))),js={class:"section"},qs={class:"recipe-card-section"},Ys=Ms((()=>(0,a._)("h3",null,"Instructions",-1))),Gs={class:"section"},Js={class:"recipe-card-section"},Qs=Ms((()=>(0,a._)("h3",null,"Allergens",-1))),Xs={class:"section"},ei={class:"recipe-card-section"},ti=Ms((()=>(0,a._)("h3",null,"Type",-1))),si={class:"section"},ii={class:"recipe-card-section"},ri=Ms((()=>(0,a._)("h3",null,"Preparation time",-1))),ai={class:"section"},ni={class:"recipe-card-section"},li=Ms((()=>(0,a._)("h3",null,"Servings",-1))),oi={class:"section"};function ci(e,t,s,i,r,n){const l=(0,a.up)("AppComments");return r.recipe?((0,a.wg)(),(0,a.iD)("div",Ds,[(0,a._)("div",Vs,[(0,a._)("div",Us,[(0,a._)("h2",null,(0,A.zw)("Title: "+this.recipe.title),1),(0,a._)("p",null,[Os,(0,a.Uk)(" "+(0,A.zw)(this.recipe.creation_date),1)]),this.username!==this.recipe.username_id?((0,a.wg)(),(0,a.iD)("button",{key:0,onClick:t[0]||(t[0]=(...e)=>n.addToFavorites&&n.addToFavorites(...e)),class:(0,A.C_)({favorited:r.isFavorited})},(0,A.zw)(r.isFavorited?"Favorited":"Add to Favorites"),3)):(0,a.kq)("",!0)]),(0,a._)("div",xs,[(0,a._)("div",Bs,[$s,(0,a._)("p",null,(0,A.zw)(this.recipe.rating_average+" from "+this.recipe.rating_amount+" ratings"),1)]),(0,a._)("div",Es,[this.username!==this.recipe.username_id?((0,a.wg)(),(0,a.iD)("span",Ns,Ls)):(0,a.kq)("",!0),((0,a.wg)(),(0,a.iD)(a.HY,null,(0,a.Ko)([1,2,3,4,5],(e=>(0,a._)("span",{key:e,onClick:t=>n.setRating(e),onMouseover:t=>n.hoverStars(e),onMouseout:t[1]||(t[1]=(...e)=>n.resetStars&&n.resetStars(...e)),class:(0,A.C_)({filled:e<=r.rating,hovered:e<=r.hoveredStar,"hidden-stars":s.username===this.recipe.username_id})}," ★ ",42,Hs))),64))])])]),(0,a._)("div",zs,[(0,a._)("div",Zs,[Ks,(0,a._)("ul",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(this.parseText(this.recipe.ingredients),((e,t)=>((0,a.wg)(),(0,a.iD)("li",{key:t},(0,A.zw)(e),1)))),128))])])]),(0,a._)("div",js,[(0,a._)("div",qs,[Ys,(0,a._)("ol",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(this.recipe.instructions.split("\n"),((e,t)=>((0,a.wg)(),(0,a.iD)("li",{key:t},(0,A.zw)(e),1)))),128))])])]),(0,a._)("div",Gs,[(0,a._)("div",Js,[Qs,(0,a._)("ul",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(this.parseText(this.recipe.allergens),((e,t)=>((0,a.wg)(),(0,a.iD)("li",{key:t},(0,A.zw)(e),1)))),128))])])]),(0,a._)("div",Xs,[(0,a._)("div",ei,[ti,(0,a.Uk)(" "+(0,A.zw)(this.recipe.recipe_type),1)])]),(0,a._)("div",si,[(0,a._)("div",ii,[ri,(0,a.Uk)(" "+(0,A.zw)(this.recipe.preparation_time),1)])]),(0,a._)("div",ai,[(0,a._)("div",ni,[li,(0,a.Uk)(" "+(0,A.zw)(this.recipe.servings),1)])]),(0,a._)("div",oi,[(0,a.Wm)(l,{username:this.username,recipe_id:this.recipe_id,comments:this.recipe.comments_list},null,8,["username","recipe_id","comments"])]),(0,a._)("button",{class:"submit-button",onClick:t[2]||(t[2]=(...e)=>n.closeRecipe&&n.closeRecipe(...e))},"Close")])):(0,a.kq)("",!0)}const di=e=>((0,a.dD)("data-v-f5fe393c"),e=e(),(0,a.Cn)(),e),pi={class:"comment-container"},ui=di((()=>(0,a._)("div",{class:"title-container"},[(0,a._)("h3",{style:{"border-bottom":"2px solid #d44d31","padding-bottom":"5px"}},"COMMENTS")],-1))),gi={class:"comments-list scrollable-content"},hi={class:"recipe-info"},mi=di((()=>(0,a._)("strong",null,"Username:",-1))),vi=di((()=>(0,a._)("strong",null,"Date:",-1))),wi={class:"recipe-review"},fi={class:"add-comment"},_i={class:"textfield-container"},yi=di((()=>(0,a._)("label",{class:"label",for:"commentInput"},"Añadir comentario:",-1)));function Si(e,t,s,r,n,l){return(0,a.wg)(),(0,a.iD)("div",pi,[ui,(0,a._)("div",gi,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.comments_updated,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:t,class:"recipe-container"},[(0,a._)("div",hi,[(0,a._)("p",null,[mi,(0,a.Uk)(" "+(0,A.zw)(e.username),1)]),(0,a._)("p",null,[vi,(0,a.Uk)(" "+(0,A.zw)(e.date),1)])]),(0,a._)("div",wi,[(0,a._)("p",null,(0,A.zw)(e.review),1)])])))),128))]),(0,a._)("div",fi,[(0,a._)("div",_i,[yi,(0,a.wy)((0,a._)("textarea",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.newComment=e),id:"commentInput",placeholder:"Escribe tu comentario aquí",class:"textarea"},null,512),[[i.nr,n.newComment]])]),(0,a._)("button",{onClick:t[1]||(t[1]=(...e)=>l.addComment&&l.addComment(...e)),class:"submit-button"},"Add comment")])])}var Ci={props:{username:String,recipe_id:Number,comments:Object},data(){return{newComment:"",comments_updated:this.comments}},methods:{createDate(){const e=new Date,t=e.getDate().toString().padStart(2,"0"),s=(e.getMonth()+1).toString().padStart(2,"0"),i=e.getFullYear().toString(),r=e.getHours().toString().padStart(2,"0"),a=e.getMinutes().toString().padStart(2,"0"),n=`${t}/${s}/${i} ${r}:${a}`;return n},addComment(){if(this.checkComment())return void alert("No review was writed");const e={username:this.username,review:this.newComment,date:this.createDate()};P.Z.post("recipesPostRatings/",{user_id:this.username,recipe_id:this.recipe_id,comment:e,review_type:"comment"}).then((e=>{200===e.status&&(console.log("Rating added"),alert("Review added."),this.newComment="",this.comments_updated=e.data.comments_list)})).catch((e=>{alert(e.response)}))},checkComment(){return""==this.newComment}}};const ki=(0,ie.Z)(Ci,[["render",Si],["__scopeId","data-v-f5fe393c"]]);var bi=ki,Ti={props:{logged:Boolean,username:String,email:String,password:String},data(){return{showPopup:!1,rating:0,NumRatings:0,CurrRating:0,recipe_id:0,hoveredStar:0,recipe:null,profileInfo:null,isFavorited:!1}},components:{AppComments:bi},methods:{closeRecipe(){this.$router.push("/")},goToLogin(){alert("Log in to see the recipe!"),this.$router.push("/login")},parseText(e){const t=e.replace(/\[|\]/g,""),s=t.replace(/'/g,""),i=s.split(",");return i},setRating(e){this.rating=e,this.addRating(),this.getRating()},hoverStars(e){this.hoveredStar=e},resetStars(){this.hoveredStar=0},getRating(){P.Z.get(`recipes/getratings/${this.recipe_id}/`).then((e=>{if(200===e.status){const t=e.data;this.NumRatings=t.rating_amount,this.CurrRating=t.rating_average,console.log(e.data.recipes)}})).catch((e=>{console.error("Error al obtener los ratings:",e)}))},addRating(){P.Z.post("recipesPostRatings/",{user_id:this.username,recipe_id:this.recipe.id,rating:this.rating,review_type:"rate"}).then((e=>{200===e.status&&(console.log("Rating added"),alert("Rating added."),this.getRecipeInformation())})).catch((e=>{alert(e.response)}))},getRecipeInformation(){alert(this.recipe_id),alert(this.username),P.Z.get(`recipe/${this.recipe_id}/`).then((e=>{if(200===e.status){const t=e.data.recipe;this.recipe=t,console.log(this.recipe)}})).catch((e=>{console.error("Error al obtener la información de la receta:",e)}))},addToFavorites(){this.isFavorited=!this.isFavorited,P.Z.post("recipesAddFavorites/",{user_id:this.username,recipe_id:this.recipe.id}).then((e=>{200===e.status&&(console.log("Recipe updated"),this.isFavorited=this.recipe_id in this.profileInfo.list_favorite_recipes,this.getRecipeInformation(),this.getUserInformation(),alert("List of favorites updated"))})).catch((e=>{alert(e.response)}))},getUserInformation(){P.Z.get(`user/${this.username}/`).then((e=>{if(200===e.status){const t=e.data.user;this.profileInfo=t,console.log(e.data.user),this.checkFavorite()}})).catch((e=>{console.error("Error al obtener las información del usuario:",e)}))},checkFavorite(){this.isFavorited=this.recipe_id in this.profileInfo.list_favorite_recipes}},created(){this.recipe_id=this.$route.params.recipe_id,this.getRecipeInformation(),this.getUserInformation()}};const Ri=(0,ie.Z)(Ti,[["render",ci],["__scopeId","data-v-d7c4887e"]]);var Fi=Ri;const Pi=[{path:"",component:Pe,name:"home"},{path:"/register",component:pt,name:"register"},{path:"/login",component:Ft,name:"login"},{path:"/addRecipe",component:hs,name:"addRecipe"},{path:"/profile",component:Is,name:"profile"},{path:"/recipePage/recipe/:recipe_id",component:Fi,name:"recipePage"}],Ai=(0,r.p7)({history:(0,r.PO)(),routes:Pi});var Ii=Ai;function Mi(e,t,s,i,r,n){const l=(0,a.up)("router-view"),o=(0,a.up)("AppHeader");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(l,{logged:r.logged,username:r.username,onLoginSuccess:n.onLoginSuccess,onUsernameSuccess:n.onUsernameSuccess,onEmailSuccess:n.onEmailSuccess,onPasswordSucess:n.onPasswordSuccess},null,8,["logged","username","onLoginSuccess","onUsernameSuccess","onEmailSuccess","onPasswordSucess"]),(0,a.Wm)(o,{logged:r.logged,username:r.username,email:r.email,password:r.password},null,8,["logged","username","email","password"])])}var Di=s.p+"img/Logo.a8de7a81.png";const Vi={class:"app-header"},Ui={class:"image-container"},Oi=["src"],xi={class:"text-overlay"},Bi={class:"animated-title"};function $i(e,t,s,i,r,n){const l=(0,a.up)("AppHeaderUserButton");return(0,a.wg)(),(0,a.iD)("header",Vi,[(0,a._)("div",Ui,[(0,a._)("img",{class:"button-image-logo",onClick:t[0]||(t[0]=(...e)=>n.handleLogoClick&&n.handleLogoClick(...e)),src:Di,alt:"Button"}),(0,a._)("img",{class:"image",src:r.imageUrl,alt:"Image"},null,8,Oi),(0,a.Wm)(l,{logged:s.logged,username:s.username,email:s.email,password:s.password},null,8,["logged","username","email","password"]),(0,a._)("div",xi,[(0,a._)("p",Bi,(0,A.zw)(r.title),1)])])])}const Ei={class:"button-image-user"},Ni=["src"],Wi={key:0,class:"user-menu"},Li={key:1,class:"user-menu"};function Hi(e,t,s,i,r,n){return(0,a.wg)(),(0,a.iD)("div",Ei,[(0,a._)("div",{onClick:t[0]||(t[0]=(...e)=>n.toggleMenu&&n.toggleMenu(...e)),class:"button-image-user"},[(0,a._)("img",{src:r.userImage,alt:"Button",class:"user-image"},null,8,Ni)]),s.logged&&r.isMenuOpen?((0,a.wg)(),(0,a.iD)("div",Wi,[(0,a._)("ul",null,[(0,a._)("li",{onClick:t[1]||(t[1]=(...e)=>n.goToProfile&&n.goToProfile(...e))},"My Profile"),(0,a._)("li",{onClick:t[2]||(t[2]=(...e)=>n.logout&&n.logout(...e))},"Log Out")])])):(0,a.kq)("",!0),!s.logged&&r.isMenuOpen?((0,a.wg)(),(0,a.iD)("div",Li,[(0,a._)("ul",null,[(0,a._)("li",{onClick:t[3]||(t[3]=(...e)=>n.goToLogin&&n.goToLogin(...e))},"Log In")])])):(0,a.kq)("",!0)])}var zi={props:{logged:Boolean,username:String,email:String,password:String},data(){return{isMenuOpen:!1,name:"AppHeaderUserButton",userImage:s(568)}},methods:{toggleMenu(){this.isMenuOpen=!this.isMenuOpen,this.isMenuOpen?document.addEventListener("click",this.closeMenuOnClickOutside):document.removeEventListener("click",this.closeMenuOnClickOutside)},closeMenu(){this.isMenuOpen=!1,document.removeEventListener("click",this.closeMenuOnClickOutside)},closeMenuOnClickOutside(e){const t=this.$el.querySelector(".button-image-user"),s=this.$el.querySelector(".user-menu");t&&!t.contains(e.target)&&s&&!s.contains(e.target)&&this.closeMenu()},goToLogin(){this.$router.push("/login")},goToProfile(){this.$router.push("/profile")},async logout(){try{let e=await P.Z.post("/login/",{username:"Logout",email:this.email,password:this.password},{headers:{"Content-Type":"application/json"}});e.status}catch(e){e.response?400===e.response.status?(alert(e.response.data.error),localStorage.setItem("logged",!1),localStorage.setItem("username",null),localStorage.setItem("email",null),localStorage.setItem("password",null),window.location.reload()):500===e.response.status?alert("An error occurred while logging in."):alert("Unexpected error"):console.error("An error occurred while logging in.")}}}};const Zi=(0,ie.Z)(zi,[["render",Hi],["__scopeId","data-v-83377296"]]);var Ki=Zi,ji={props:{logged:Boolean,username:String,email:String,password:String},components:{AppHeaderUserButton:Ki},data(){return{title:"Chef's Nook",imageUrl:s(9522)}},methods:{handleLogoClick(){this.$router.push("/")}}};const qi=(0,ie.Z)(ji,[["render",$i],["__scopeId","data-v-7e6e1f28"]]);var Yi=qi,Gi={components:{AppHeader:Yi},data(){return{logged:"true"===localStorage.getItem("logged"),username:localStorage.getItem("username"),email:localStorage.getItem("email"),password:localStorage.getItem("password")}},methods:{onLoginSuccess(e){this.logged=e,localStorage.setItem("logged",e)},onUsernameSuccess(e){this.username=e,localStorage.setItem("username",e)},onEmailSuccess(e){this.email=e,localStorage.setItem("email",e)},onPasswordSuccess(e){this.password=e,localStorage.setItem("password",e)}}};const Ji=(0,ie.Z)(Gi,[["render",Mi]]);var Qi=Ji;const Xi=(0,i.ri)(Qi);Xi.use(Ii),Xi.mount("#app")},568:function(e,t,s){e.exports=s.p+"img/DefaultUser.ef1f3f9e.jpg"},9522:function(e,t,s){e.exports=s.p+"img/HeaderImage.664baf9b.jpg"}},t={};function s(i){var r=t[i];if(void 0!==r)return r.exports;var a=t[i]={exports:{}};return e[i].call(a.exports,a,a.exports,s),a.exports}s.m=e,function(){var e=[];s.O=function(t,i,r,a){if(!i){var n=1/0;for(d=0;d<e.length;d++){i=e[d][0],r=e[d][1],a=e[d][2];for(var l=!0,o=0;o<i.length;o++)(!1&a||n>=a)&&Object.keys(s.O).every((function(e){return s.O[e](i[o])}))?i.splice(o--,1):(l=!1,a<n&&(n=a));if(l){e.splice(d--,1);var c=r();void 0!==c&&(t=c)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[i,r,a]}}(),function(){s.d=function(e,t){for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.p="http://localhost:8080/"}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,i){var r,a,n=i[0],l=i[1],o=i[2],c=0;if(n.some((function(t){return 0!==e[t]}))){for(r in l)s.o(l,r)&&(s.m[r]=l[r]);if(o)var d=o(s)}for(t&&t(i);c<n.length;c++)a=n[c],s.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return s.O(d)},i=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=s.O(void 0,[998],(function(){return s(6922)}));i=s.O(i)})();
//# sourceMappingURL=app.6d869b34.js.map